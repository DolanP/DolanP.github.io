var xn=Object.defineProperty;var Sn=(e,n,t)=>n in e?xn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Y=(e,n,t)=>Sn(e,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function bn(e){e.innerHTML="";const n=document.createElement("div");n.id="examples";for(const t of En.filter(o=>o.name!=="main-menu")){const o=document.createElement("div");o.innerHTML=t.name,o.addEventListener("click",()=>{history.pushState({state:t.name},""),localStorage.setItem("appState",JSON.stringify({state:t.name})),t.load(e)}),n.appendChild(o)}e.appendChild(n)}var In=`#version 300 es

in vec4 a_position;
in vec4 a_colour;

out vec4 v_colour;

void main() {
  gl_Position = a_position;
  v_colour = a_colour;
}`,wn=`#version 300 es

precision highp float;

in vec4 v_colour;

out vec4 outColour;

uniform float u_time;

void main() {
  float t = u_time / 1000.0;
  float s = (sin(t) / 2.0) + 0.5;
  float c = (cos(t) / 2.0) + 0.5;
  outColour = vec4(
    c / 2.0 + v_colour.x / 2.0,
    s / 2.0 + v_colour.y / 2.0,
    c / 4.0 + s / 4.0 + v_colour.z / 2.0,
    v_colour.w);
}`;/* @license twgl.js 5.5.4 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const fe=5120,k=5121,ue=5122,le=5123,me=5124,de=5125,ve=5126,Fn=32819,Cn=32820,Nn=33635,Mn=5131,Rn=33640,Pn=35899,Bn=35902,Ln=36269,Un=34042,Pe={};{const e=Pe;e[fe]=Int8Array,e[k]=Uint8Array,e[ue]=Int16Array,e[le]=Uint16Array,e[me]=Int32Array,e[de]=Uint32Array,e[ve]=Float32Array,e[Fn]=Uint16Array,e[Cn]=Uint16Array,e[Nn]=Uint16Array,e[Mn]=Uint16Array,e[Rn]=Uint32Array,e[Pn]=Uint32Array,e[Bn]=Uint32Array,e[Ln]=Uint32Array,e[Un]=Uint32Array}function Be(e){if(e instanceof Int8Array)return fe;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return k;if(e instanceof Int16Array)return ue;if(e instanceof Uint16Array)return le;if(e instanceof Int32Array)return me;if(e instanceof Uint32Array)return de;if(e instanceof Float32Array)return ve;throw new Error("unsupported typed array type")}function Le(e){if(e===Int8Array)return fe;if(e===Uint8Array||e===Uint8ClampedArray)return k;if(e===Int16Array)return ue;if(e===Uint16Array)return le;if(e===Int32Array)return me;if(e===Uint32Array)return de;if(e===Float32Array)return ve;throw new Error("unsupported typed array type")}function Dn(e){const n=Pe[e];if(!n)throw new Error("unknown gl type");return n}const ae=typeof SharedArrayBuffer<"u"?function(n){return n&&n.buffer&&(n.buffer instanceof ArrayBuffer||n.buffer instanceof SharedArrayBuffer)}:function(n){return n&&n.buffer&&n.buffer instanceof ArrayBuffer};function zn(...e){console.error(...e)}const we=new Map;function Ue(e,n){if(!e||typeof e!="object")return!1;let t=we.get(n);t||(t=new WeakMap,we.set(n,t));let o=t.get(e);if(o===void 0){const r=Object.prototype.toString.call(e);o=r.substring(8,r.length-1)===n,t.set(e,o)}return o}function gn(e,n){return typeof WebGLBuffer<"u"&&Ue(n,"WebGLBuffer")}function De(e,n){return typeof WebGLTexture<"u"&&Ue(n,"WebGLTexture")}const ze=35044,D=34962,On=34963,kn=34660,$n=5120,Vn=5121,Gn=5122,Hn=5123,Wn=5124,jn=5125,ge=5126,Oe={attribPrefix:""};function Yn(e,n,t,o,r){e.bindBuffer(n,t),e.bufferData(n,o,r||ze)}function ke(e,n,t,o){if(gn(e,n))return n;t=t||D;const r=e.createBuffer();return Yn(e,t,r,n,o),r}function $e(e){return e==="indices"}function qn(e){return e===Int8Array||e===Uint8Array}function Kn(e){return e.length?e:e.data}const Xn=/coord|texture/i,Jn=/color|colour/i;function Zn(e,n){let t;if(Xn.test(e)?t=2:Jn.test(e)?t=4:t=3,n%t>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${t} but ${n} values is not evenly divisible by ${t}. You should specify it.`);return t}function Qn(e,n,t){return e.numComponents||e.size||Zn(n,t||Kn(e).length)}function Ve(e,n){if(ae(e))return e;if(ae(e.data))return e.data;Array.isArray(e)&&(e={data:e});let t=e.type?Ae(e.type):void 0;return t||($e(n)?t=Uint16Array:t=Float32Array),new t(e.data)}function et(e){return typeof e=="number"?e:e?Le(e):ge}function Ae(e){return typeof e=="number"?Dn(e):e||Float32Array}function nt(e,n){return{buffer:n.buffer,numValues:2*3*4,type:et(n.type),arrayType:Ae(n.type)}}function tt(e,n){const t=n.data||n,o=Ae(n.type),r=t*o.BYTES_PER_ELEMENT,i=e.createBuffer();return e.bindBuffer(D,i),e.bufferData(D,r,n.drawType||ze),{buffer:i,numValues:t,type:Le(o),arrayType:o}}function rt(e,n,t){const o=Ve(n,t);return{arrayType:o.constructor,buffer:ke(e,o,void 0,n.drawType),type:Be(o),numValues:0}}function ot(e,n){const t={};return Object.keys(n).forEach(function(o){if(!$e(o)){const r=n[o],i=r.attrib||r.name||r.attribName||Oe.attribPrefix+o;if(r.value){if(!Array.isArray(r.value)&&!ae(r.value))throw new Error("array.value is not array or typedarray");t[i]={value:r.value}}else{let a;r.buffer&&r.buffer instanceof WebGLBuffer?a=nt:typeof r=="number"||typeof r.data=="number"?a=tt:a=rt;const{buffer:s,type:c,numValues:f,arrayType:l}=a(e,r,o),u=r.normalize!==void 0?r.normalize:qn(l),d=Qn(r,o,f);t[i]={buffer:s,numComponents:d,type:c,normalize:u,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),e.bindBuffer(D,null),t}function it(e,n){return n===$n||n===Vn?1:n===Gn||n===Hn?2:n===Wn||n===jn||n===ge?4:0}const ie=["position","positions","a_position"];function st(e,n){let t,o;for(o=0;o<ie.length&&(t=ie[o],!(t in n||(t=Oe.attribPrefix+t,t in n)));++o);o===ie.length&&(t=Object.keys(n)[0]);const r=n[t];if(!r.buffer)return 1;e.bindBuffer(D,r.buffer);const i=e.getBufferParameter(D,kn);e.bindBuffer(D,null);const a=it(e,r.type),s=i/a,c=r.numComponents||r.size,f=s/c;if(f%1!==0)throw new Error(`numComponents ${c} not correct for length ${length}`);return f}function $(e,n,t){const o=ot(e,n),r=Object.assign({},t||{});r.attribs=Object.assign({},t?t.attribs:{},o);const i=n.indices;if(i){const a=Ve(i,"indices");r.indices=ke(e,a,On),r.numElements=a.length,r.elementType=Be(a)}else r.numElements||(r.numElements=st(e,r.attribs));return r}function pe(e){return!!e.texStorage2D}const at=function(){const e={},n={};function t(o){const r=o.constructor.name;if(!e[r]){for(const i in o)if(typeof o[i]=="number"){const a=n[o[i]];n[o[i]]=a?`${a} | ${i}`:i}e[r]=!0}}return function(r,i){return t(r),n[i]||(typeof i=="number"?`0x${i.toString(16)}`:i)}}(),ct=6406,Fe=6407,Ce=6408,ft=6409,ut=6410,lt=6402,mt=34041,dt=33319,vt=33320,At=6403,pt=36244,yt=36248,_t=36249,Tt={};{const e=Tt;e[ct]={numColorComponents:1},e[ft]={numColorComponents:1},e[ut]={numColorComponents:2},e[Fe]={numColorComponents:3},e[Ce]={numColorComponents:4},e[At]={numColorComponents:1},e[pt]={numColorComponents:1},e[dt]={numColorComponents:2},e[vt]={numColorComponents:2},e[Fe]={numColorComponents:3},e[yt]={numColorComponents:3},e[Ce]={numColorComponents:4},e[_t]={numColorComponents:4},e[lt]={numColorComponents:1},e[mt]={numColorComponents:2}}const ye=zn;function Ge(e){return typeof document<"u"&&document.getElementById?document.getElementById(e):null}const q=33984,X=34962,Et=34963,ht=35713,xt=35714,St=35632,bt=35633,It=35981,He=35718,wt=35721,Ft=35971,Ct=35382,Nt=35396,Mt=35398,Rt=35392,Pt=35395,J=5126,We=35664,je=35665,Ye=35666,_e=5124,qe=35667,Ke=35668,Xe=35669,Je=35670,Ze=35671,Qe=35672,en=35673,nn=35674,tn=35675,rn=35676,Bt=35678,Lt=35680,Ut=35679,Dt=35682,zt=35685,gt=35686,Ot=35687,kt=35688,$t=35689,Vt=35690,Gt=36289,Ht=36292,Wt=36293,Te=5125,on=36294,sn=36295,an=36296,jt=36298,Yt=36299,qt=36300,Kt=36303,Xt=36306,Jt=36307,Zt=36308,Qt=36311,Z=3553,Q=34067,Ee=32879,ee=35866,A={};function cn(e,n){return A[n].bindPoint}function er(e,n){return function(t){e.uniform1f(n,t)}}function nr(e,n){return function(t){e.uniform1fv(n,t)}}function tr(e,n){return function(t){e.uniform2fv(n,t)}}function rr(e,n){return function(t){e.uniform3fv(n,t)}}function or(e,n){return function(t){e.uniform4fv(n,t)}}function fn(e,n){return function(t){e.uniform1i(n,t)}}function un(e,n){return function(t){e.uniform1iv(n,t)}}function ln(e,n){return function(t){e.uniform2iv(n,t)}}function mn(e,n){return function(t){e.uniform3iv(n,t)}}function dn(e,n){return function(t){e.uniform4iv(n,t)}}function ir(e,n){return function(t){e.uniform1ui(n,t)}}function sr(e,n){return function(t){e.uniform1uiv(n,t)}}function ar(e,n){return function(t){e.uniform2uiv(n,t)}}function cr(e,n){return function(t){e.uniform3uiv(n,t)}}function fr(e,n){return function(t){e.uniform4uiv(n,t)}}function ur(e,n){return function(t){e.uniformMatrix2fv(n,!1,t)}}function lr(e,n){return function(t){e.uniformMatrix3fv(n,!1,t)}}function mr(e,n){return function(t){e.uniformMatrix4fv(n,!1,t)}}function dr(e,n){return function(t){e.uniformMatrix2x3fv(n,!1,t)}}function vr(e,n){return function(t){e.uniformMatrix3x2fv(n,!1,t)}}function Ar(e,n){return function(t){e.uniformMatrix2x4fv(n,!1,t)}}function pr(e,n){return function(t){e.uniformMatrix4x2fv(n,!1,t)}}function yr(e,n){return function(t){e.uniformMatrix3x4fv(n,!1,t)}}function _r(e,n){return function(t){e.uniformMatrix4x3fv(n,!1,t)}}function F(e,n,t,o){const r=cn(e,n);return pe(e)?function(i){let a,s;!i||De(e,i)?(a=i,s=null):(a=i.texture,s=i.sampler),e.uniform1i(o,t),e.activeTexture(q+t),e.bindTexture(r,a),e.bindSampler(t,s)}:function(i){e.uniform1i(o,t),e.activeTexture(q+t),e.bindTexture(r,i)}}function C(e,n,t,o,r){const i=cn(e,n),a=new Int32Array(r);for(let s=0;s<r;++s)a[s]=t+s;return pe(e)?function(s){e.uniform1iv(o,a),s.forEach(function(c,f){e.activeTexture(q+a[f]);let l,u;!c||De(e,c)?(l=c,u=null):(l=c.texture,u=c.sampler),e.bindSampler(t,u),e.bindTexture(i,l)})}:function(s){e.uniform1iv(o,a),s.forEach(function(c,f){e.activeTexture(q+a[f]),e.bindTexture(i,c)})}}A[J]={Type:Float32Array,size:4,setter:er,arraySetter:nr};A[We]={Type:Float32Array,size:8,setter:tr,cols:2};A[je]={Type:Float32Array,size:12,setter:rr,cols:3};A[Ye]={Type:Float32Array,size:16,setter:or,cols:4};A[_e]={Type:Int32Array,size:4,setter:fn,arraySetter:un};A[qe]={Type:Int32Array,size:8,setter:ln,cols:2};A[Ke]={Type:Int32Array,size:12,setter:mn,cols:3};A[Xe]={Type:Int32Array,size:16,setter:dn,cols:4};A[Te]={Type:Uint32Array,size:4,setter:ir,arraySetter:sr};A[on]={Type:Uint32Array,size:8,setter:ar,cols:2};A[sn]={Type:Uint32Array,size:12,setter:cr,cols:3};A[an]={Type:Uint32Array,size:16,setter:fr,cols:4};A[Je]={Type:Uint32Array,size:4,setter:fn,arraySetter:un};A[Ze]={Type:Uint32Array,size:8,setter:ln,cols:2};A[Qe]={Type:Uint32Array,size:12,setter:mn,cols:3};A[en]={Type:Uint32Array,size:16,setter:dn,cols:4};A[nn]={Type:Float32Array,size:32,setter:ur,rows:2,cols:2};A[tn]={Type:Float32Array,size:48,setter:lr,rows:3,cols:3};A[rn]={Type:Float32Array,size:64,setter:mr,rows:4,cols:4};A[zt]={Type:Float32Array,size:32,setter:dr,rows:2,cols:3};A[gt]={Type:Float32Array,size:32,setter:Ar,rows:2,cols:4};A[Ot]={Type:Float32Array,size:48,setter:vr,rows:3,cols:2};A[kt]={Type:Float32Array,size:48,setter:yr,rows:3,cols:4};A[$t]={Type:Float32Array,size:64,setter:pr,rows:4,cols:2};A[Vt]={Type:Float32Array,size:64,setter:_r,rows:4,cols:3};A[Bt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Z};A[Lt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Q};A[Ut]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Ee};A[Dt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Z};A[Gt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ee};A[Ht]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ee};A[Wt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Q};A[jt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Z};A[Yt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Ee};A[qt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Q};A[Kt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ee};A[Xt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Z};A[Jt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Ee};A[Zt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Q};A[Qt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ee};function ne(e,n){return function(t){if(t.value)switch(e.disableVertexAttribArray(n),t.value.length){case 4:e.vertexAttrib4fv(n,t.value);break;case 3:e.vertexAttrib3fv(n,t.value);break;case 2:e.vertexAttrib2fv(n,t.value);break;case 1:e.vertexAttrib1fv(n,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(X,t.buffer),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,t.numComponents||t.size,t.type||J,t.normalize||!1,t.stride||0,t.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(n,t.divisor||0)}}function L(e,n){return function(t){if(t.value)if(e.disableVertexAttribArray(n),t.value.length===4)e.vertexAttrib4iv(n,t.value);else throw new Error("The length of an integer constant value must be 4!");else e.bindBuffer(X,t.buffer),e.enableVertexAttribArray(n),e.vertexAttribIPointer(n,t.numComponents||t.size,t.type||_e,t.stride||0,t.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(n,t.divisor||0)}}function te(e,n){return function(t){if(t.value)if(e.disableVertexAttribArray(n),t.value.length===4)e.vertexAttrib4uiv(n,t.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else e.bindBuffer(X,t.buffer),e.enableVertexAttribArray(n),e.vertexAttribIPointer(n,t.numComponents||t.size,t.type||Te,t.stride||0,t.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(n,t.divisor||0)}}function he(e,n,t){const o=t.size,r=t.count;return function(i){e.bindBuffer(X,i.buffer);const a=i.size||i.numComponents||o,s=a/r,c=i.type||J,l=A[c].size*a,u=i.normalize||!1,d=i.offset||0,m=l/r;for(let v=0;v<r;++v)e.enableVertexAttribArray(n+v),e.vertexAttribPointer(n+v,s,c,u,l,d+m*v),e.vertexAttribDivisor&&e.vertexAttribDivisor(n+v,i.divisor||0)}}const I={};I[J]={size:4,setter:ne};I[We]={size:8,setter:ne};I[je]={size:12,setter:ne};I[Ye]={size:16,setter:ne};I[_e]={size:4,setter:L};I[qe]={size:8,setter:L};I[Ke]={size:12,setter:L};I[Xe]={size:16,setter:L};I[Te]={size:4,setter:te};I[on]={size:8,setter:te};I[sn]={size:12,setter:te};I[an]={size:16,setter:te};I[Je]={size:4,setter:L};I[Ze]={size:8,setter:L};I[Qe]={size:12,setter:L};I[en]={size:16,setter:L};I[nn]={size:4,setter:he,count:2};I[tn]={size:9,setter:he,count:3};I[rn]={size:16,setter:he,count:4};const Tr=/ERROR:\s*\d+:(\d+)/gi;function Er(e,n="",t=0){const o=[...n.matchAll(Tr)],r=new Map(o.map((i,a)=>{const s=parseInt(i[1]),c=o[a+1],f=c?c.index:n.length,l=n.substring(i.index,f);return[s-1,l]}));return e.split(`
`).map((i,a)=>{const s=r.get(a);return`${a+1+t}: ${i}${s?`

^^^ ${s}`:""}`}).join(`
`)}const Ne=/^[ \t]*\n/;function vn(e){let n=0;return Ne.test(e)&&(n=1,e=e.replace(Ne,"")),{lineOffset:n,shaderSource:e}}function hr(e,n){return e.errorCallback(n),e.callback&&setTimeout(()=>{e.callback(`${n}
${e.errors.join(`
`)}`)}),null}function xr(e,n,t,o){if(o=o||ye,!e.getShaderParameter(t,ht)){const i=e.getShaderInfoLog(t),{lineOffset:a,shaderSource:s}=vn(e.getShaderSource(t)),c=`${Er(s,i,a)}
Error compiling ${at(e,n)}: ${i}`;return o(c),c}return""}function xe(e,n,t){let o,r,i;if(typeof n=="function"&&(t=n,n=void 0),typeof e=="function")t=e,e=void 0;else if(e&&!Array.isArray(e)){const f=e;t=f.errorCallback,e=f.attribLocations,o=f.transformFeedbackVaryings,r=f.transformFeedbackMode,i=f.callback}const a=t||ye,s=[],c={errorCallback(f,...l){s.push(f),a(f,...l)},transformFeedbackVaryings:o,transformFeedbackMode:r,callback:i,errors:s};{let f={};Array.isArray(e)?e.forEach(function(l,u){f[l]=n?n[u]:u}):f=e||{},c.attribLocations=f}return c}const Sr=["VERTEX_SHADER","FRAGMENT_SHADER"];function br(e,n){if(n.indexOf("frag")>=0)return St;if(n.indexOf("vert")>=0)return bt}function Ir(e,n,t){const o=e.getAttachedShaders(n);for(const r of o)t.has(r)&&e.deleteShader(r);e.deleteProgram(n)}const wr=(e=0)=>new Promise(n=>setTimeout(n,e));function Fr(e,n,t){const o=e.createProgram(),{attribLocations:r,transformFeedbackVaryings:i,transformFeedbackMode:a}=xe(t);for(let s=0;s<n.length;++s){let c=n[s];if(typeof c=="string"){const f=Ge(c),l=f?f.text:c;let u=e[Sr[s]];f&&f.type&&(u=br(e,f.type)||u),c=e.createShader(u),e.shaderSource(c,vn(l).shaderSource),e.compileShader(c),e.attachShader(o,c)}}Object.entries(r).forEach(([s,c])=>e.bindAttribLocation(o,c,s));{let s=i;s&&(s.attribs&&(s=s.attribs),Array.isArray(s)||(s=Object.keys(s)),e.transformFeedbackVaryings(o,s,a||It))}return e.linkProgram(o),o}function Cr(e,n,t,o,r){const i=xe(t,o,r),a=new Set(n),s=Fr(e,n,i);function c(f,l){const u=Mr(f,l,i.errorCallback);return u&&Ir(f,l,a),u}if(i.callback){Nr(e,s).then(()=>{const f=c(e,s);i.callback(f,f?void 0:s)});return}return c(e,s)?void 0:s}async function Nr(e,n){const t=e.getExtension("KHR_parallel_shader_compile"),o=t?(i,a)=>i.getProgramParameter(a,t.COMPLETION_STATUS_KHR):()=>!0;let r=0;do await wr(r),r=1e3/60;while(!o(e,n))}function Mr(e,n,t){if(t=t||ye,!e.getProgramParameter(n,xt)){const r=e.getProgramInfoLog(n);t(`Error in program linking: ${r}`);const a=e.getAttachedShaders(n).map(s=>xr(e,e.getShaderParameter(s,e.SHADER_TYPE),s,t));return`${r}
${a.filter(s=>s).join(`
`)}`}}function Rr(e,n,t,o,r){return Cr(e,n,t,o,r)}function An(e){const n=e.name;return n.startsWith("gl_")||n.startsWith("webgl_")}const Pr=/(\.|\[|]|\w+)/g,Br=e=>e>="0"&&e<="9";function Lr(e,n,t,o){const r=e.split(Pr).filter(s=>s!=="");let i=0,a="";for(;;){const s=r[i++];a+=s;const c=Br(s[0]),f=c?parseInt(s):s;if(c&&(a+=r[i++]),i===r.length){t[f]=n;break}else{const u=r[i++],d=u==="[",m=t[f]||(d?[]:{});t[f]=m,t=m,o[a]=o[a]||function(v){return function(_){pn(v,_)}}(m),a+=u}}}function Ur(e,n){let t=0;function o(s,c,f){const l=c.name.endsWith("[0]"),u=c.type,d=A[u];if(!d)throw new Error(`unknown type: 0x${u.toString(16)}`);let m;if(d.bindPoint){const v=t;t+=c.size,l?m=d.arraySetter(e,u,v,f,c.size):m=d.setter(e,u,v,f,c.size)}else d.arraySetter&&l?m=d.arraySetter(e,f):m=d.setter(e,f);return m.location=f,m}const r={},i={},a=e.getProgramParameter(n,He);for(let s=0;s<a;++s){const c=e.getActiveUniform(n,s);if(An(c))continue;let f=c.name;f.endsWith("[0]")&&(f=f.substr(0,f.length-3));const l=e.getUniformLocation(n,c.name);if(l){const u=o(n,c,l);r[f]=u,Lr(f,u,i,r)}}return r}function Dr(e,n){const t={},o=e.getProgramParameter(n,Ft);for(let r=0;r<o;++r){const i=e.getTransformFeedbackVarying(n,r);t[i.name]={index:r,type:i.type,size:i.size}}return t}function zr(e,n){const t=e.getProgramParameter(n,He),o=[],r=[];for(let s=0;s<t;++s){r.push(s),o.push({});const c=e.getActiveUniform(n,s);o[s].name=c.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(s){const c=s[0],f=s[1];e.getActiveUniforms(n,r,e[c]).forEach(function(l,u){o[u][f]=l})});const i={},a=e.getProgramParameter(n,Ct);for(let s=0;s<a;++s){const c=e.getActiveUniformBlockName(n,s),f={index:e.getUniformBlockIndex(n,c),usedByVertexShader:e.getActiveUniformBlockParameter(n,s,Nt),usedByFragmentShader:e.getActiveUniformBlockParameter(n,s,Mt),size:e.getActiveUniformBlockParameter(n,s,Rt),uniformIndices:e.getActiveUniformBlockParameter(n,s,Pt)};f.used=f.usedByVertexShader||f.usedByFragmentShader,i[c]=f}return{blockSpecs:i,uniformData:o}}function pn(e,n){for(const t in n){const o=e[t];typeof o=="function"?o(n[t]):pn(e[t],n[t])}}function z(e,...n){const t=e.uniformSetters||e,o=n.length;for(let r=0;r<o;++r){const i=n[r];if(Array.isArray(i)){const a=i.length;for(let s=0;s<a;++s)z(t,i[s])}else for(const a in i){const s=t[a];s&&s(i[a])}}}function gr(e,n){const t={},o=e.getProgramParameter(n,wt);for(let r=0;r<o;++r){const i=e.getActiveAttrib(n,r);if(An(i))continue;const a=e.getAttribLocation(n,i.name),s=I[i.type],c=s.setter(e,a,s);c.location=a,t[i.name]=c}return t}function Or(e,n){for(const t in n){const o=e[t];o&&o(n[t])}}function V(e,n,t){t.vertexArrayObject?e.bindVertexArray(t.vertexArrayObject):(Or(n.attribSetters||n,t.attribs),t.indices&&e.bindBuffer(Et,t.indices))}function Me(e,n){const t=Ur(e,n),o=gr(e,n),r={program:n,uniformSetters:t,attribSetters:o};return pe(e)&&(r.uniformBlockSpec=zr(e,n),r.transformFeedbackInfo=Dr(e,n)),r}const kr=/\s|{|}|;/;function G(e,n,t,o,r){const i=xe(t,o,r),a=[];if(n=n.map(function(f){if(!kr.test(f)){const l=Ge(f);if(l)f=l.text;else{const u=`no element with id: ${f}`;i.errorCallback(u),a.push(u)}}return f}),a.length)return hr(i,"");const s=i.callback;s&&(i.callback=(f,l)=>{s(f,f?void 0:Me(e,l))});const c=Rr(e,n,i);return c?Me(e,c):null}const $r=4,Re=5123;function H(e,n,t,o,r,i){t=t===void 0?$r:t;const a=n.indices,s=n.elementType,c=o===void 0?n.numElements:o;r=r===void 0?0:r,s||a?i!==void 0?e.drawElementsInstanced(t,c,s===void 0?Re:n.elementType,r,i):e.drawElements(t,c,s===void 0?Re:n.elementType,r):i!==void 0?e.drawArraysInstanced(t,r,c,i):e.drawArrays(t,r,c)}function W(e,n){n=n||1,n=Math.max(0,n);const t=e.clientWidth*n|0,o=e.clientHeight*n|0;return e.width!==t||e.height!==o?(e.width=t,e.height=o,!0):!1}function j(e){e.width=window.innerWidth,e.height=window.innerHeight;const n=e.getContext("webgl2");if(n)console.log("WebGL initialized successfully");else throw alert("WebGL not supported"),Error("WebGL not supported");return n}function Vr(e){const n=document.createElement("canvas");e.innerHTML="",e.append(n);const t=j(n);var o=G(t,[In,wn]);const r={a_position:{numComponents:2,data:new Float32Array([-1,-1,1,-1,1,1,-1,1])},a_colour:{numComponents:3,data:new Float32Array([1,0,0,0,1,0,0,0,1,1,1,1])},indices:{numComponents:3,data:new Uint16Array([0,1,3,1,2,3])}},i=$(t,r);function a(s){W(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.DEPTH_TEST);const c={u_time:s};t.useProgram(o.program),V(t,o,i),z(o,c),H(t,i),requestAnimationFrame(a)}requestAnimationFrame(a)}var Gr=`#version 300 es

in vec4 a_position;
in vec4 a_colour;

uniform mat4 u_matrix;

out vec4 v_colour;

void main() {
  gl_Position = u_matrix * a_position;
  v_colour = a_colour;
}`,Hr=`#version 300 es

precision highp float;

in vec4 v_colour;

out vec4 outColour;

void main() {
  outColour = v_colour;
}`,se=1e-6,K=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,n=arguments.length;n--;)e+=arguments[n]*arguments[n];return Math.sqrt(e)});function b(){var e=new K(16);return K!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Wr(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yn(e,n){if(e===n){var t=n[1],o=n[2],r=n[3],i=n[6],a=n[7],s=n[11];e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=t,e[6]=n[9],e[7]=n[13],e[8]=o,e[9]=i,e[11]=n[14],e[12]=r,e[13]=a,e[14]=s}else e[0]=n[0],e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=n[1],e[5]=n[5],e[6]=n[9],e[7]=n[13],e[8]=n[2],e[9]=n[6],e[10]=n[10],e[11]=n[14],e[12]=n[3],e[13]=n[7],e[14]=n[11],e[15]=n[15];return e}function _n(e,n){var t=n[0],o=n[1],r=n[2],i=n[3],a=n[4],s=n[5],c=n[6],f=n[7],l=n[8],u=n[9],d=n[10],m=n[11],v=n[12],_=n[13],h=n[14],x=n[15],S=t*s-o*a,p=t*c-r*a,T=t*f-i*a,y=o*c-r*s,E=o*f-i*s,N=r*f-i*c,M=l*_-u*v,R=l*h-d*v,P=l*x-m*v,U=u*h-d*_,g=u*x-m*_,O=d*x-m*h,w=S*O-p*g+T*U+y*P-E*R+N*M;return w?(w=1/w,e[0]=(s*O-c*g+f*U)*w,e[1]=(r*g-o*O-i*U)*w,e[2]=(_*N-h*E+x*y)*w,e[3]=(d*E-u*N-m*y)*w,e[4]=(c*P-a*O-f*R)*w,e[5]=(t*O-r*P+i*R)*w,e[6]=(h*T-v*N-x*p)*w,e[7]=(l*N-d*T+m*p)*w,e[8]=(a*g-s*P+f*M)*w,e[9]=(o*P-t*g-i*M)*w,e[10]=(v*E-_*T+x*S)*w,e[11]=(u*T-l*E-m*S)*w,e[12]=(s*R-a*U-c*M)*w,e[13]=(t*U-o*R+r*M)*w,e[14]=(_*p-v*y-h*S)*w,e[15]=(l*y-u*p+d*S)*w,e):null}function B(e,n,t){var o=n[0],r=n[1],i=n[2],a=n[3],s=n[4],c=n[5],f=n[6],l=n[7],u=n[8],d=n[9],m=n[10],v=n[11],_=n[12],h=n[13],x=n[14],S=n[15],p=t[0],T=t[1],y=t[2],E=t[3];return e[0]=p*o+T*s+y*u+E*_,e[1]=p*r+T*c+y*d+E*h,e[2]=p*i+T*f+y*m+E*x,e[3]=p*a+T*l+y*v+E*S,p=t[4],T=t[5],y=t[6],E=t[7],e[4]=p*o+T*s+y*u+E*_,e[5]=p*r+T*c+y*d+E*h,e[6]=p*i+T*f+y*m+E*x,e[7]=p*a+T*l+y*v+E*S,p=t[8],T=t[9],y=t[10],E=t[11],e[8]=p*o+T*s+y*u+E*_,e[9]=p*r+T*c+y*d+E*h,e[10]=p*i+T*f+y*m+E*x,e[11]=p*a+T*l+y*v+E*S,p=t[12],T=t[13],y=t[14],E=t[15],e[12]=p*o+T*s+y*u+E*_,e[13]=p*r+T*c+y*d+E*h,e[14]=p*i+T*f+y*m+E*x,e[15]=p*a+T*l+y*v+E*S,e}function jr(e,n,t){var o=t[0],r=t[1],i=t[2],a,s,c,f,l,u,d,m,v,_,h,x;return n===e?(e[12]=n[0]*o+n[4]*r+n[8]*i+n[12],e[13]=n[1]*o+n[5]*r+n[9]*i+n[13],e[14]=n[2]*o+n[6]*r+n[10]*i+n[14],e[15]=n[3]*o+n[7]*r+n[11]*i+n[15]):(a=n[0],s=n[1],c=n[2],f=n[3],l=n[4],u=n[5],d=n[6],m=n[7],v=n[8],_=n[9],h=n[10],x=n[11],e[0]=a,e[1]=s,e[2]=c,e[3]=f,e[4]=l,e[5]=u,e[6]=d,e[7]=m,e[8]=v,e[9]=_,e[10]=h,e[11]=x,e[12]=a*o+l*r+v*i+n[12],e[13]=s*o+u*r+_*i+n[13],e[14]=c*o+d*r+h*i+n[14],e[15]=f*o+m*r+x*i+n[15]),e}function Tn(e,n,t){var o=Math.sin(t),r=Math.cos(t),i=n[0],a=n[1],s=n[2],c=n[3],f=n[4],l=n[5],u=n[6],d=n[7];return n!==e&&(e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=i*r+f*o,e[1]=a*r+l*o,e[2]=s*r+u*o,e[3]=c*r+d*o,e[4]=f*r-i*o,e[5]=l*r-a*o,e[6]=u*r-s*o,e[7]=d*r-c*o,e}function Se(e,n){var t=Math.sin(n),o=Math.cos(n);return e[0]=o,e[1]=0,e[2]=-t,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=t,e[9]=0,e[10]=o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Yr(e,n,t,o,r){var i=1/Math.tan(n/2),a;return e[0]=i/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(a=1/(o-r),e[10]=(r+o)*a,e[14]=2*r*o*a):(e[10]=-1,e[14]=-2*o),e}var re=Yr;function oe(e,n,t,o){var r,i,a,s,c,f,l,u,d,m,v=n[0],_=n[1],h=n[2],x=o[0],S=o[1],p=o[2],T=t[0],y=t[1],E=t[2];return Math.abs(v-T)<se&&Math.abs(_-y)<se&&Math.abs(h-E)<se?Wr(e):(l=v-T,u=_-y,d=h-E,m=1/Math.hypot(l,u,d),l*=m,u*=m,d*=m,r=S*d-p*u,i=p*l-x*d,a=x*u-S*l,m=Math.hypot(r,i,a),m?(m=1/m,r*=m,i*=m,a*=m):(r=0,i=0,a=0),s=u*a-d*i,c=d*r-l*a,f=l*i-u*r,m=Math.hypot(s,c,f),m?(m=1/m,s*=m,c*=m,f*=m):(s=0,c=0,f=0),e[0]=r,e[1]=s,e[2]=l,e[3]=0,e[4]=i,e[5]=c,e[6]=u,e[7]=0,e[8]=a,e[9]=f,e[10]=d,e[11]=0,e[12]=-(r*v+i*_+a*h),e[13]=-(s*v+c*_+f*h),e[14]=-(l*v+u*_+d*h),e[15]=1,e)}function ce(){var e=new K(2);return K!=Float32Array&&(e[0]=0,e[1]=0),e}function qr(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e}function Kr(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e}function Xr(e){var n=e[0],t=e[1];return Math.hypot(n,t)}function Jr(e,n){var t=n[0],o=n[1],r=t*t+o*o;return r>0&&(r=1/Math.sqrt(r)),e[0]=n[0]*r,e[1]=n[1]*r,e}function Zr(e,n,t,o){var r=n[0]-t[0],i=n[1]-t[1],a=Math.sin(o),s=Math.cos(o);return e[0]=r*s-i*a+t[0],e[1]=r*a+i*s+t[1],e}(function(){var e=ce();return function(n,t,o,r,i,a){var s,c;for(t||(t=2),o||(o=0),r?c=Math.min(r*t+o,n.length):c=n.length,s=o;s<c;s+=t)e[0]=n[s],e[1]=n[s+1],i(e,e,a),n[s]=e[0],n[s+1]=e[1];return n}})();const be={a_position:{numComponents:3,data:new Float32Array([-1,-1,1,1,-1,1,-1,1,1,1,-1,1,1,1,1,-1,1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,-1,-1,-1,-1,-1,1,-1,1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,1,1,1,1,1,-1,1,-1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,-1,-1,1,1,-1,-1,1,-1,1,-1,-1,1])},a_normal:{numComponents:3,data:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0])}};function Qr(e){const n=document.createElement("canvas");e.innerHTML="",e.append(n);const t=j(n);var o=G(t,[Gr,Hr]);const r=$(t,{...be,a_colour:{numComponents:3,data:new Float32Array([0,0,0,0,0,1,0,1,0,0,1,1,1,0,0,1,0,1,1,1,0,1,1,1])}});function i(a){W(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE);const s=Math.PI/4,c=n.clientWidth/n.clientHeight,f=.1,l=100,u=b();re(u,s,c,f,l);const d=a/1e3,m=new Float32Array([6,0,6]),v=new Float32Array([0,0,0]),_=new Float32Array([0,1,0]),h=b();oe(h,m,v,_);const x=b();Se(x,-d),Tn(x,x,-d);const S=b();B(h,h,x),B(S,u,h);const p={u_matrix:S,u_time:a};t.useProgram(o.program),V(t,o,r),z(o,p),H(t,r),requestAnimationFrame(i)}requestAnimationFrame(i)}var eo=`#version 300 es

in vec4 a_position;
in vec4 a_colour;

uniform mat4 u_matrix;

out vec4 v_colour;

void main() {
  gl_Position = u_matrix * a_position;
  v_colour = vec4(0, 0, 0, 1);
}`,no=`#version 300 es

precision highp float;

in vec4 v_colour;

out vec4 outColour;

void main() {
  outColour = v_colour;
}`;function to(e,n,t,o){const r=[],i=[],a=(s,c)=>s+(n+1)*c;for(let s=0;s<e+1;++s)for(let c=0;c<n+1;++c)r.push(c/n*o-o/2,0,s/e*t-t/2),c!==n&&s!==e&&i.push(a(c,s),a(c+1,s),a(c+1,s),a(c,s+1),a(c,s+1),a(c,s),a(c+1,s),a(c+1,s+1),a(c+1,s+1),a(c,s+1),a(c,s+1),a(c+1,s));return{a_position:{numComponents:3,data:new Float32Array(r)},indices:{numComponents:2,data:new Uint16Array(i)}}}function ro(e){const n=document.createElement("canvas");e.innerHTML="",e.append(n);const t=j(n);var o=G(t,[eo,no]);const r=64,i=10,a=to(r,r,i,i),s=$(t,a),c=Math.PI/4,f=n.clientWidth/n.clientHeight,l=.1,u=100,d=b();re(d,c,f,l,u),t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE);function m(v){W(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT);const _=v/1e3,h=new Float32Array([0,10,10]),x=new Float32Array([0,0,0]),S=new Float32Array([0,1,0]),p=b();oe(p,h,x,S);const T=b();B(T,d,p);const y=b();Se(y,-_/4);const E=b();B(E,T,y);const N={u_matrix:E,u_time:v};t.useProgram(o.program),V(t,o,s),z(o,N),H(t,s,t.LINES),requestAnimationFrame(m)}requestAnimationFrame(m)}var oo=`#version 300 es

in vec4 a_position;
in vec3 a_normal;

uniform mat4 u_worldViewProjection;
uniform mat4 u_worldInverseTranspose;

out vec3 v_normal;

void main() {
  gl_Position = u_worldViewProjection * a_position;
  
  v_normal = mat3(u_worldInverseTranspose) * a_normal;
}`,io=`#version 300 es

precision highp float;

uniform vec3 u_reverseLightDirection;
uniform vec4 u_colour;

out vec4 outColour;

in vec3 v_normal;

void main() {
  vec3 normal = normalize(v_normal);
  float light = dot(normal, u_reverseLightDirection);
  outColour = u_colour;
  outColour.rgb *= light;
}`;function so(e){const n=document.createElement("canvas");e.innerHTML="",e.append(n);const t=j(n);var o=G(t,[oo,io]);const r=$(t,be),i=Math.PI/4,a=n.clientWidth/n.clientHeight,s=.1,c=100,f=b();re(f,i,a,s,c),t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE),t.cullFace(t.CCW);function l(u){W(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT);const d=u/1e3,m=new Float32Array([0,10,10]),v=new Float32Array([0,0,0]),_=new Float32Array([0,1,0]),h=b();oe(h,m,v,_);const x=b();B(x,f,h);const S=b();Se(S,-d/2),Tn(S,S,-d/1.5);const p=b();B(p,x,S);const T=b();_n(T,S);const y=b();yn(y,T);const E={u_worldViewProjection:p,u_worldInverseTranspose:y,u_reverseLightDirection:[1,1,1],u_time:u,u_colour:[1,0,0,1]};t.useProgram(o.program),V(t,o,r),z(o,E),H(t,r,t.TRIANGLES),requestAnimationFrame(l)}requestAnimationFrame(l)}var ao=`#version 300 es

in vec4 a_position;
in vec3 a_normal;

uniform mat4 u_worldViewProjection;
uniform mat4 u_worldInverseTranspose;

out vec3 v_normal;

void main() {
  gl_Position = u_worldViewProjection * a_position;
  
  v_normal = mat3(u_worldInverseTranspose) * a_normal;
}`,co=`#version 300 es

precision highp float;

uniform vec3 u_reverseLightDirection;
uniform vec4 u_colour;

out vec4 outColour;

in vec3 v_normal;

void main() {
  vec3 normal = normalize(v_normal);
  float light = dot(normal, u_reverseLightDirection);
  outColour = u_colour;
  outColour.rgb *= light;
}`;class fo{constructor(){Y(this,"_input",{left:0,right:0});Y(this,"direction",[1,0]);Y(this,"position",[0,0])}input(n,t){this._input.left=n,this._input.right=t}step(n){const o=.01*(1e3*n),r=(this._input.left+this._input.right)*.01;Zr(this.direction,this.direction,[0,0],r),Jr(this.direction,this.direction);const i=ce();Kr(i,this.direction,o),console.log(Xr(i));const a=ce();qr(a,this.position,i),this.position=a,console.log(this.position)}}function uo(e){const n=document.createElement("canvas");e.innerHTML="",e.append(n);const t=j(n);var o=G(t,[ao,co]);const r=$(t,be),i=Math.PI/4,a=n.clientWidth/n.clientHeight,s=.1,c=1e3,f=b();re(f,i,a,s,c),t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE),t.cullFace(t.CCW);const l=new fo,u={left:0,right:0};window.addEventListener("keydown",_=>{_.key==="q"&&(u.left=1)}),window.addEventListener("keyup",_=>{_.key==="q"&&(u.left=0)});let d,m;function v(_){W(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT),d=_/1e3;let x=m===void 0?0:d-m;const S=new Float32Array([0,64,64]),p=new Float32Array([0,0,0]),T=new Float32Array([0,1,0]),y=b();oe(y,S,p,T);const E=b();B(E,f,y);const N=b();jr(N,N,[l.position[0],0,l.position[1]]);const M=b();B(M,E,N);const R=b();_n(R,N);const P=b();yn(P,R);const U={u_worldViewProjection:M,u_worldInverseTranspose:P,u_reverseLightDirection:[1,1,1],u_time:_,u_colour:[1,0,0,1]};t.useProgram(o.program),V(t,o,r),z(o,U),H(t,r,t.TRIANGLES),l.input(u.left,u.right),l.step(x),requestAnimationFrame(v),m=d}requestAnimationFrame(v)}const En=[{name:"main-menu",load:bn},{name:"example-1",load:Vr},{name:"example-2",load:Qr},{name:"example-3",load:ro},{name:"example-4",load:so},{name:"example-5",load:uo}],lo=document.getElementById("app");function mo(){const e=localStorage.getItem("appState");return e?JSON.parse(e):null}const hn=mo()??{state:"main-menu"};history.replaceState(hn,"");function Ie(e){const n=En.find(t=>t.name===e.state);n&&(localStorage.setItem("appState",JSON.stringify({state:n.name})),n==null||n.load(lo))}Ie(hn);window.addEventListener("popstate",e=>{console.log(e),Ie(e.state)});window.addEventListener("keydown",e=>{(e.key==="b"||e.key==="Escape")&&(localStorage.setItem("appState",JSON.stringify({state:"main-menu"})),Ie({state:"main-menu"}))});
