(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var Xt=`#version 300 es

in vec4 a_position;
in vec4 a_colour;

uniform mat4 u_matrix;

out vec4 v_colour;

void main() {
  gl_Position = a_position;
  v_colour = a_colour;
}`,qt=`#version 300 es

precision highp float;

in vec4 v_colour;

out vec4 outColour;

void main() {
  outColour = v_colour;
}`;/* @license twgl.js 5.5.4 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const L=5120,x=5121,P=5122,w=5123,z=5124,M=5125,O=5126,Jt=32819,Zt=32820,Qt=33635,te=5131,ee=33640,ne=35899,re=35902,oe=36269,ie=34042,ct={};{const t=ct;t[L]=Int8Array,t[x]=Uint8Array,t[P]=Int16Array,t[w]=Uint16Array,t[z]=Int32Array,t[M]=Uint32Array,t[O]=Float32Array,t[Jt]=Uint16Array,t[Zt]=Uint16Array,t[Qt]=Uint16Array,t[te]=Uint16Array,t[ee]=Uint32Array,t[ne]=Uint32Array,t[re]=Uint32Array,t[oe]=Uint32Array,t[ie]=Uint32Array}function ut(t){if(t instanceof Int8Array)return L;if(t instanceof Uint8Array||t instanceof Uint8ClampedArray)return x;if(t instanceof Int16Array)return P;if(t instanceof Uint16Array)return w;if(t instanceof Int32Array)return z;if(t instanceof Uint32Array)return M;if(t instanceof Float32Array)return O;throw new Error("unsupported typed array type")}function ft(t){if(t===Int8Array)return L;if(t===Uint8Array||t===Uint8ClampedArray)return x;if(t===Int16Array)return P;if(t===Uint16Array)return w;if(t===Int32Array)return z;if(t===Uint32Array)return M;if(t===Float32Array)return O;throw new Error("unsupported typed array type")}function se(t){const e=ct[t];if(!e)throw new Error("unknown gl type");return e}const D=typeof SharedArrayBuffer<"u"?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function ae(...t){console.error(...t)}const tt=new Map;function mt(t,e){if(!t||typeof t!="object")return!1;let n=tt.get(e);n||(n=new WeakMap,tt.set(e,n));let i=n.get(t);if(i===void 0){const r=Object.prototype.toString.call(t);i=r.substring(8,r.length-1)===e,n.set(t,i)}return i}function ce(t,e){return typeof WebGLBuffer<"u"&&mt(e,"WebGLBuffer")}function lt(t,e){return typeof WebGLTexture<"u"&&mt(e,"WebGLTexture")}const dt=35044,S=34962,ue=34963,fe=34660,me=5120,le=5121,de=5122,Ae=5123,ye=5124,Te=5125,At=5126,yt={attribPrefix:""};function Ee(t,e,n,i,r){t.bindBuffer(e,n),t.bufferData(e,i,r||dt)}function Tt(t,e,n,i){if(ce(t,e))return e;n=n||S;const r=t.createBuffer();return Ee(t,n,r,e,i),r}function Et(t){return t==="indices"}function _e(t){return t===Int8Array||t===Uint8Array}function pe(t){return t.length?t:t.data}const Se=/coord|texture/i,xe=/color|colour/i;function ve(t,e){let n;if(Se.test(t)?n=2:xe.test(t)?n=4:n=3,e%n>0)throw new Error(`Can not guess numComponents for attribute '${t}'. Tried ${n} but ${e} values is not evenly divisible by ${n}. You should specify it.`);return n}function be(t,e,n){return t.numComponents||t.size||ve(e,n||pe(t).length)}function _t(t,e){if(D(t))return t;if(D(t.data))return t.data;Array.isArray(t)&&(t={data:t});let n=t.type?k(t.type):void 0;return n||(Et(e)?n=Uint16Array:n=Float32Array),new n(t.data)}function he(t){return typeof t=="number"?t:t?ft(t):At}function k(t){return typeof t=="number"?se(t):t||Float32Array}function Ie(t,e){return{buffer:e.buffer,numValues:2*3*4,type:he(e.type),arrayType:k(e.type)}}function Ne(t,e){const n=e.data||e,i=k(e.type),r=n*i.BYTES_PER_ELEMENT,o=t.createBuffer();return t.bindBuffer(S,o),t.bufferData(S,r,e.drawType||dt),{buffer:o,numValues:n,type:ft(i),arrayType:i}}function Fe(t,e,n){const i=_t(e,n);return{arrayType:i.constructor,buffer:Tt(t,i,void 0,e.drawType),type:ut(i),numValues:0}}function Re(t,e){const n={};return Object.keys(e).forEach(function(i){if(!Et(i)){const r=e[i],o=r.attrib||r.name||r.attribName||yt.attribPrefix+i;if(r.value){if(!Array.isArray(r.value)&&!D(r.value))throw new Error("array.value is not array or typedarray");n[o]={value:r.value}}else{let a;r.buffer&&r.buffer instanceof WebGLBuffer?a=Ie:typeof r=="number"||typeof r.data=="number"?a=Ne:a=Fe;const{buffer:s,type:c,numValues:u,arrayType:m}=a(t,r,i),l=r.normalize!==void 0?r.normalize:_e(m),T=be(r,i,u);n[o]={buffer:s,numComponents:T,type:c,normalize:l,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),t.bindBuffer(S,null),n}function Be(t,e){return e===me||e===le?1:e===de||e===Ae?2:e===ye||e===Te||e===At?4:0}const U=["position","positions","a_position"];function Ce(t,e){let n,i;for(i=0;i<U.length&&(n=U[i],!(n in e||(n=yt.attribPrefix+n,n in e)));++i);i===U.length&&(n=Object.keys(e)[0]);const r=e[n];if(!r.buffer)return 1;t.bindBuffer(S,r.buffer);const o=t.getBufferParameter(S,fe);t.bindBuffer(S,null);const a=Be(t,r.type),s=o/a,c=r.numComponents||r.size,u=s/c;if(u%1!==0)throw new Error(`numComponents ${c} not correct for length ${length}`);return u}function $(t,e,n){const i=Re(t,e),r=Object.assign({},n||{});r.attribs=Object.assign({},n?n.attribs:{},i);const o=e.indices;if(o){const a=_t(o,"indices");r.indices=Tt(t,a,ue),r.numElements=a.length,r.elementType=ut(a)}else r.numElements||(r.numElements=Ce(t,r.attribs));return r}function g(t){return!!t.texStorage2D}const Ue=function(){const t={},e={};function n(i){const r=i.constructor.name;if(!t[r]){for(const o in i)if(typeof i[o]=="number"){const a=e[i[o]];e[i[o]]=a?`${a} | ${o}`:o}t[r]=!0}}return function(r,o){return n(r),e[o]||(typeof o=="number"?`0x${o.toString(16)}`:o)}}(),De=6406,et=6407,nt=6408,Le=6409,Pe=6410,we=6402,ze=34041,Me=33319,Oe=33320,ke=6403,$e=36244,ge=36248,Ve=36249,Ge={};{const t=Ge;t[De]={numColorComponents:1},t[Le]={numColorComponents:1},t[Pe]={numColorComponents:2},t[et]={numColorComponents:3},t[nt]={numColorComponents:4},t[ke]={numColorComponents:1},t[$e]={numColorComponents:1},t[Me]={numColorComponents:2},t[Oe]={numColorComponents:2},t[et]={numColorComponents:3},t[ge]={numColorComponents:3},t[nt]={numColorComponents:4},t[Ve]={numColorComponents:4},t[we]={numColorComponents:1},t[ze]={numColorComponents:2}}const V=ae;function pt(t){return typeof document<"u"&&document.getElementById?document.getElementById(t):null}const v=33984,b=34962,He=34963,We=35713,Ye=35714,Ke=35632,je=35633,Xe=35981,St=35718,qe=35721,Je=35971,Ze=35382,Qe=35396,tn=35398,en=35392,nn=35395,h=5126,xt=35664,vt=35665,bt=35666,G=5124,ht=35667,It=35668,Nt=35669,Ft=35670,Rt=35671,Bt=35672,Ct=35673,Ut=35674,Dt=35675,Lt=35676,rn=35678,on=35680,sn=35679,an=35682,cn=35685,un=35686,fn=35687,mn=35688,ln=35689,dn=35690,An=36289,yn=36292,Tn=36293,H=5125,Pt=36294,wt=36295,zt=36296,En=36298,_n=36299,pn=36300,Sn=36303,xn=36306,vn=36307,bn=36308,hn=36311,I=3553,N=34067,W=32879,F=35866,f={};function Mt(t,e){return f[e].bindPoint}function In(t,e){return function(n){t.uniform1f(e,n)}}function Nn(t,e){return function(n){t.uniform1fv(e,n)}}function Fn(t,e){return function(n){t.uniform2fv(e,n)}}function Rn(t,e){return function(n){t.uniform3fv(e,n)}}function Bn(t,e){return function(n){t.uniform4fv(e,n)}}function Ot(t,e){return function(n){t.uniform1i(e,n)}}function kt(t,e){return function(n){t.uniform1iv(e,n)}}function $t(t,e){return function(n){t.uniform2iv(e,n)}}function gt(t,e){return function(n){t.uniform3iv(e,n)}}function Vt(t,e){return function(n){t.uniform4iv(e,n)}}function Cn(t,e){return function(n){t.uniform1ui(e,n)}}function Un(t,e){return function(n){t.uniform1uiv(e,n)}}function Dn(t,e){return function(n){t.uniform2uiv(e,n)}}function Ln(t,e){return function(n){t.uniform3uiv(e,n)}}function Pn(t,e){return function(n){t.uniform4uiv(e,n)}}function wn(t,e){return function(n){t.uniformMatrix2fv(e,!1,n)}}function zn(t,e){return function(n){t.uniformMatrix3fv(e,!1,n)}}function Mn(t,e){return function(n){t.uniformMatrix4fv(e,!1,n)}}function On(t,e){return function(n){t.uniformMatrix2x3fv(e,!1,n)}}function kn(t,e){return function(n){t.uniformMatrix3x2fv(e,!1,n)}}function $n(t,e){return function(n){t.uniformMatrix2x4fv(e,!1,n)}}function gn(t,e){return function(n){t.uniformMatrix4x2fv(e,!1,n)}}function Vn(t,e){return function(n){t.uniformMatrix3x4fv(e,!1,n)}}function Gn(t,e){return function(n){t.uniformMatrix4x3fv(e,!1,n)}}function A(t,e,n,i){const r=Mt(t,e);return g(t)?function(o){let a,s;!o||lt(t,o)?(a=o,s=null):(a=o.texture,s=o.sampler),t.uniform1i(i,n),t.activeTexture(v+n),t.bindTexture(r,a),t.bindSampler(n,s)}:function(o){t.uniform1i(i,n),t.activeTexture(v+n),t.bindTexture(r,o)}}function y(t,e,n,i,r){const o=Mt(t,e),a=new Int32Array(r);for(let s=0;s<r;++s)a[s]=n+s;return g(t)?function(s){t.uniform1iv(i,a),s.forEach(function(c,u){t.activeTexture(v+a[u]);let m,l;!c||lt(t,c)?(m=c,l=null):(m=c.texture,l=c.sampler),t.bindSampler(n,l),t.bindTexture(o,m)})}:function(s){t.uniform1iv(i,a),s.forEach(function(c,u){t.activeTexture(v+a[u]),t.bindTexture(o,c)})}}f[h]={Type:Float32Array,size:4,setter:In,arraySetter:Nn};f[xt]={Type:Float32Array,size:8,setter:Fn,cols:2};f[vt]={Type:Float32Array,size:12,setter:Rn,cols:3};f[bt]={Type:Float32Array,size:16,setter:Bn,cols:4};f[G]={Type:Int32Array,size:4,setter:Ot,arraySetter:kt};f[ht]={Type:Int32Array,size:8,setter:$t,cols:2};f[It]={Type:Int32Array,size:12,setter:gt,cols:3};f[Nt]={Type:Int32Array,size:16,setter:Vt,cols:4};f[H]={Type:Uint32Array,size:4,setter:Cn,arraySetter:Un};f[Pt]={Type:Uint32Array,size:8,setter:Dn,cols:2};f[wt]={Type:Uint32Array,size:12,setter:Ln,cols:3};f[zt]={Type:Uint32Array,size:16,setter:Pn,cols:4};f[Ft]={Type:Uint32Array,size:4,setter:Ot,arraySetter:kt};f[Rt]={Type:Uint32Array,size:8,setter:$t,cols:2};f[Bt]={Type:Uint32Array,size:12,setter:gt,cols:3};f[Ct]={Type:Uint32Array,size:16,setter:Vt,cols:4};f[Ut]={Type:Float32Array,size:32,setter:wn,rows:2,cols:2};f[Dt]={Type:Float32Array,size:48,setter:zn,rows:3,cols:3};f[Lt]={Type:Float32Array,size:64,setter:Mn,rows:4,cols:4};f[cn]={Type:Float32Array,size:32,setter:On,rows:2,cols:3};f[un]={Type:Float32Array,size:32,setter:$n,rows:2,cols:4};f[fn]={Type:Float32Array,size:48,setter:kn,rows:3,cols:2};f[mn]={Type:Float32Array,size:48,setter:Vn,rows:3,cols:4};f[ln]={Type:Float32Array,size:64,setter:gn,rows:4,cols:2};f[dn]={Type:Float32Array,size:64,setter:Gn,rows:4,cols:3};f[rn]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:I};f[on]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:N};f[sn]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:W};f[an]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:I};f[An]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:F};f[yn]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:F};f[Tn]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:N};f[En]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:I};f[_n]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:W};f[pn]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:N};f[Sn]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:F};f[xn]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:I};f[vn]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:W};f[bn]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:N};f[hn]={Type:null,size:0,setter:A,arraySetter:y,bindPoint:F};function R(t,e){return function(n){if(n.value)switch(t.disableVertexAttribArray(e),n.value.length){case 4:t.vertexAttrib4fv(e,n.value);break;case 3:t.vertexAttrib3fv(e,n.value);break;case 2:t.vertexAttrib2fv(e,n.value);break;case 1:t.vertexAttrib1fv(e,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else t.bindBuffer(b,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,n.numComponents||n.size,n.type||h,n.normalize||!1,n.stride||0,n.offset||0),t.vertexAttribDivisor&&t.vertexAttribDivisor(e,n.divisor||0)}}function p(t,e){return function(n){if(n.value)if(t.disableVertexAttribArray(e),n.value.length===4)t.vertexAttrib4iv(e,n.value);else throw new Error("The length of an integer constant value must be 4!");else t.bindBuffer(b,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||G,n.stride||0,n.offset||0),t.vertexAttribDivisor&&t.vertexAttribDivisor(e,n.divisor||0)}}function B(t,e){return function(n){if(n.value)if(t.disableVertexAttribArray(e),n.value.length===4)t.vertexAttrib4uiv(e,n.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else t.bindBuffer(b,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||H,n.stride||0,n.offset||0),t.vertexAttribDivisor&&t.vertexAttribDivisor(e,n.divisor||0)}}function Y(t,e,n){const i=n.size,r=n.count;return function(o){t.bindBuffer(b,o.buffer);const a=o.size||o.numComponents||i,s=a/r,c=o.type||h,m=f[c].size*a,l=o.normalize||!1,T=o.offset||0,E=m/r;for(let _=0;_<r;++_)t.enableVertexAttribArray(e+_),t.vertexAttribPointer(e+_,s,c,l,m,T+E*_),t.vertexAttribDivisor&&t.vertexAttribDivisor(e+_,o.divisor||0)}}const d={};d[h]={size:4,setter:R};d[xt]={size:8,setter:R};d[vt]={size:12,setter:R};d[bt]={size:16,setter:R};d[G]={size:4,setter:p};d[ht]={size:8,setter:p};d[It]={size:12,setter:p};d[Nt]={size:16,setter:p};d[H]={size:4,setter:B};d[Pt]={size:8,setter:B};d[wt]={size:12,setter:B};d[zt]={size:16,setter:B};d[Ft]={size:4,setter:p};d[Rt]={size:8,setter:p};d[Bt]={size:12,setter:p};d[Ct]={size:16,setter:p};d[Ut]={size:4,setter:Y,count:2};d[Dt]={size:9,setter:Y,count:3};d[Lt]={size:16,setter:Y,count:4};const Hn=/ERROR:\s*\d+:(\d+)/gi;function Wn(t,e="",n=0){const i=[...e.matchAll(Hn)],r=new Map(i.map((o,a)=>{const s=parseInt(o[1]),c=i[a+1],u=c?c.index:e.length,m=e.substring(o.index,u);return[s-1,m]}));return t.split(`
`).map((o,a)=>{const s=r.get(a);return`${a+1+n}: ${o}${s?`

^^^ ${s}`:""}`}).join(`
`)}const rt=/^[ \t]*\n/;function Gt(t){let e=0;return rt.test(t)&&(e=1,t=t.replace(rt,"")),{lineOffset:e,shaderSource:t}}function Yn(t,e){return t.errorCallback(e),t.callback&&setTimeout(()=>{t.callback(`${e}
${t.errors.join(`
`)}`)}),null}function Kn(t,e,n,i){if(i=i||V,!t.getShaderParameter(n,We)){const o=t.getShaderInfoLog(n),{lineOffset:a,shaderSource:s}=Gt(t.getShaderSource(n)),c=`${Wn(s,o,a)}
Error compiling ${Ue(t,e)}: ${o}`;return i(c),c}return""}function K(t,e,n){let i,r,o;if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function")n=t,t=void 0;else if(t&&!Array.isArray(t)){const u=t;n=u.errorCallback,t=u.attribLocations,i=u.transformFeedbackVaryings,r=u.transformFeedbackMode,o=u.callback}const a=n||V,s=[],c={errorCallback(u,...m){s.push(u),a(u,...m)},transformFeedbackVaryings:i,transformFeedbackMode:r,callback:o,errors:s};{let u={};Array.isArray(t)?t.forEach(function(m,l){u[m]=e?e[l]:l}):u=t||{},c.attribLocations=u}return c}const jn=["VERTEX_SHADER","FRAGMENT_SHADER"];function Xn(t,e){if(e.indexOf("frag")>=0)return Ke;if(e.indexOf("vert")>=0)return je}function qn(t,e,n){const i=t.getAttachedShaders(e);for(const r of i)n.has(r)&&t.deleteShader(r);t.deleteProgram(e)}const Jn=(t=0)=>new Promise(e=>setTimeout(e,t));function Zn(t,e,n){const i=t.createProgram(),{attribLocations:r,transformFeedbackVaryings:o,transformFeedbackMode:a}=K(n);for(let s=0;s<e.length;++s){let c=e[s];if(typeof c=="string"){const u=pt(c),m=u?u.text:c;let l=t[jn[s]];u&&u.type&&(l=Xn(t,u.type)||l),c=t.createShader(l),t.shaderSource(c,Gt(m).shaderSource),t.compileShader(c),t.attachShader(i,c)}}Object.entries(r).forEach(([s,c])=>t.bindAttribLocation(i,c,s));{let s=o;s&&(s.attribs&&(s=s.attribs),Array.isArray(s)||(s=Object.keys(s)),t.transformFeedbackVaryings(i,s,a||Xe))}return t.linkProgram(i),i}function Qn(t,e,n,i,r){const o=K(n,i,r),a=new Set(e),s=Zn(t,e,o);function c(u,m){const l=er(u,m,o.errorCallback);return l&&qn(u,m,a),l}if(o.callback){tr(t,s).then(()=>{const u=c(t,s);o.callback(u,u?void 0:s)});return}return c(t,s)?void 0:s}async function tr(t,e){const n=t.getExtension("KHR_parallel_shader_compile"),i=n?(o,a)=>o.getProgramParameter(a,n.COMPLETION_STATUS_KHR):()=>!0;let r=0;do await Jn(r),r=1e3/60;while(!i(t,e))}function er(t,e,n){if(n=n||V,!t.getProgramParameter(e,Ye)){const r=t.getProgramInfoLog(e);n(`Error in program linking: ${r}`);const a=t.getAttachedShaders(e).map(s=>Kn(t,t.getShaderParameter(s,t.SHADER_TYPE),s,n));return`${r}
${a.filter(s=>s).join(`
`)}`}}function nr(t,e,n,i,r){return Qn(t,e,n,i,r)}function Ht(t){const e=t.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const rr=/(\.|\[|]|\w+)/g,or=t=>t>="0"&&t<="9";function ir(t,e,n,i){const r=t.split(rr).filter(s=>s!=="");let o=0,a="";for(;;){const s=r[o++];a+=s;const c=or(s[0]),u=c?parseInt(s):s;if(c&&(a+=r[o++]),o===r.length){n[u]=e;break}else{const l=r[o++],T=l==="[",E=n[u]||(T?[]:{});n[u]=E,n=E,i[a]=i[a]||function(_){return function(jt){Wt(_,jt)}}(E),a+=l}}}function sr(t,e){let n=0;function i(s,c,u){const m=c.name.endsWith("[0]"),l=c.type,T=f[l];if(!T)throw new Error(`unknown type: 0x${l.toString(16)}`);let E;if(T.bindPoint){const _=n;n+=c.size,m?E=T.arraySetter(t,l,_,u,c.size):E=T.setter(t,l,_,u,c.size)}else T.arraySetter&&m?E=T.arraySetter(t,u):E=T.setter(t,u);return E.location=u,E}const r={},o={},a=t.getProgramParameter(e,St);for(let s=0;s<a;++s){const c=t.getActiveUniform(e,s);if(Ht(c))continue;let u=c.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));const m=t.getUniformLocation(e,c.name);if(m){const l=i(e,c,m);r[u]=l,ir(u,l,o,r)}}return r}function ar(t,e){const n={},i=t.getProgramParameter(e,Je);for(let r=0;r<i;++r){const o=t.getTransformFeedbackVarying(e,r);n[o.name]={index:r,type:o.type,size:o.size}}return n}function cr(t,e){const n=t.getProgramParameter(e,St),i=[],r=[];for(let s=0;s<n;++s){r.push(s),i.push({});const c=t.getActiveUniform(e,s);i[s].name=c.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(s){const c=s[0],u=s[1];t.getActiveUniforms(e,r,t[c]).forEach(function(m,l){i[l][u]=m})});const o={},a=t.getProgramParameter(e,Ze);for(let s=0;s<a;++s){const c=t.getActiveUniformBlockName(e,s),u={index:t.getUniformBlockIndex(e,c),usedByVertexShader:t.getActiveUniformBlockParameter(e,s,Qe),usedByFragmentShader:t.getActiveUniformBlockParameter(e,s,tn),size:t.getActiveUniformBlockParameter(e,s,en),uniformIndices:t.getActiveUniformBlockParameter(e,s,nn)};u.used=u.usedByVertexShader||u.usedByFragmentShader,o[c]=u}return{blockSpecs:o,uniformData:i}}function Wt(t,e){for(const n in e){const i=t[n];typeof i=="function"?i(e[n]):Wt(t[n],e[n])}}function C(t,...e){const n=t.uniformSetters||t,i=e.length;for(let r=0;r<i;++r){const o=e[r];if(Array.isArray(o)){const a=o.length;for(let s=0;s<a;++s)C(n,o[s])}else for(const a in o){const s=n[a];s&&s(o[a])}}}function ur(t,e){const n={},i=t.getProgramParameter(e,qe);for(let r=0;r<i;++r){const o=t.getActiveAttrib(e,r);if(Ht(o))continue;const a=t.getAttribLocation(e,o.name),s=d[o.type],c=s.setter(t,a,s);c.location=a,n[o.name]=c}return n}function fr(t,e){for(const n in e){const i=t[n];i&&i(e[n])}}function j(t,e,n){n.vertexArrayObject?t.bindVertexArray(n.vertexArrayObject):(fr(e.attribSetters||e,n.attribs),n.indices&&t.bindBuffer(He,n.indices))}function ot(t,e){const n=sr(t,e),i=ur(t,e),r={program:e,uniformSetters:n,attribSetters:i};return g(t)&&(r.uniformBlockSpec=cr(t,e),r.transformFeedbackInfo=ar(t,e)),r}const mr=/\s|{|}|;/;function X(t,e,n,i,r){const o=K(n,i,r),a=[];if(e=e.map(function(u){if(!mr.test(u)){const m=pt(u);if(m)u=m.text;else{const l=`no element with id: ${u}`;o.errorCallback(l),a.push(l)}}return u}),a.length)return Yn(o,"");const s=o.callback;s&&(o.callback=(u,m)=>{s(u,u?void 0:ot(t,m))});const c=nr(t,e,o);return c?ot(t,c):null}const lr=4,it=5123;function q(t,e,n,i,r,o){n=n===void 0?lr:n;const a=e.indices,s=e.elementType,c=i===void 0?e.numElements:i;r=r===void 0?0:r,s||a?o!==void 0?t.drawElementsInstanced(n,c,s===void 0?it:e.elementType,r,o):t.drawElements(n,c,s===void 0?it:e.elementType,r):o!==void 0?t.drawArraysInstanced(n,r,c,o):t.drawArrays(n,r,c)}function J(t,e){e=e||1,e=Math.max(0,e);const n=t.clientWidth*e|0,i=t.clientHeight*e|0;return t.width!==n||t.height!==i?(t.width=n,t.height=i,!0):!1}var st=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function dr(){var t=new st(16);return st!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Z(t){t.width=window.innerWidth,t.height=window.innerHeight;const e=t.getContext("webgl2");if(e)console.log("WebGL initialized successfully");else throw alert("WebGL not supported"),Error("WebGL not supported");return e}function Ar(t){const e=document.createElement("canvas");t.innerHTML="",t.append(e);const n=Z(e);var i=X(n,[Xt,qt]);const r={a_position:{numComponents:2,data:new Float32Array([-1,-1,1,-1,1,1,-1,1])},a_colour:{numComponents:3,data:new Float32Array([1,0,0,0,1,0,0,0,1,1,1,1])},indices:{numComponents:3,data:new Uint16Array([0,1,3,1,2,3])}},o=$(n,r);function a(s){J(n.canvas),n.viewport(0,0,n.canvas.width,n.canvas.height),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.DEPTH_TEST);const c={matrix:dr()};n.useProgram(i.program),j(n,i,o),C(i,c),q(n,o),requestAnimationFrame(a)}requestAnimationFrame(a)}var yr=`#version 300 es

in vec4 a_position;
in vec4 a_colour;

uniform mat4 u_matrix;

out vec4 v_colour;

void main() {
  
  gl_Position = a_position;
  v_colour = a_position;
}`,Tr=`#version 300 es

precision highp float;

in vec4 v_colour;

out vec4 outColour;

uniform float u_time;

void main() {
  float t = u_time / 2500.0;
  float s = (sin(t) / 2.0) + 0.5;
  
  outColour = ((v_colour / 2.0) + 0.5) * s;
  
}`;function Er(t){const e=document.createElement("canvas");t.innerHTML="",t.append(e);const n=Z(e);var i=X(n,[yr,Tr]);const r={a_position:{numComponents:2,data:new Float32Array([1,1,-1,1,-1,-1])}},o=$(n,r);function a(s){J(n.canvas),n.viewport(0,0,n.canvas.width,n.canvas.height),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.DEPTH_TEST);const c={u_time:s};n.useProgram(i.program),j(n,i,o),C(i,c),q(n,o),requestAnimationFrame(a)}requestAnimationFrame(a)}var _r=`#version 300 es

in vec4 a_position;
in vec4 a_colour;

uniform mat4 u_matrix;

out vec4 v_colour;

void main() {
  
  gl_Position = a_position;
  v_colour = a_position;
}`,pr=`#version 300 es

precision highp float;

in vec4 v_colour;

out vec4 outColour;

uniform float u_time;

void main() {
  float t = u_time / 2500.0;
  float s = (sin(t) / 2.0) + 0.5;
  
  outColour = ((v_colour / 2.0) + 0.5) * s;
  
}`;function Sr(t){const e=document.createElement("canvas");t.innerHTML="",t.append(e);const n=Z(e);var i=X(n,[_r,pr]);const r={a_position:{numComponents:2,data:new Float32Array([1,1,-1,1,-1,-1])}},o=$(n,r);function a(s){J(n.canvas),n.viewport(0,0,n.canvas.width,n.canvas.height),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.DEPTH_TEST);const c={u_time:s};n.useProgram(i.program),j(n,i,o),C(i,c),q(n,o),requestAnimationFrame(a)}requestAnimationFrame(a)}const Yt=[{name:"example-1",load:Ar},{name:"example-2",load:Er},{name:"example-3",load:Sr}],at=document.getElementById("app");function xr(){const t=localStorage.getItem("appState");return t?JSON.parse(t):null}const Kt=xr()??{state:"main-menu"};history.replaceState(Kt,"");function Q(t){if(t.state==="main-menu"){localStorage.setItem("appState",JSON.stringify({state:"main-menu"})),vr(at);return}const e=Yt.find(n=>n.name===t.state);e&&(localStorage.setItem("appState",JSON.stringify({state:e.name})),e==null||e.load(at))}Q(Kt);window.addEventListener("popstate",t=>{console.log(t),Q(t.state)});function vr(t){t.innerHTML="";for(const e of Yt){const n=document.createElement("div");n.innerHTML=e.name,n.addEventListener("click",()=>{history.pushState({state:e.name},""),localStorage.setItem("appState",JSON.stringify({state:e.name})),e.load(t)}),t&&t.appendChild(n)}}window.addEventListener("keydown",t=>{(t.key==="b"||t.key==="Escape")&&(localStorage.setItem("appState",JSON.stringify({state:"main-menu"})),Q({state:"main-menu"}))});
