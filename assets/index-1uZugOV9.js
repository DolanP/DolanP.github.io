var bn=Object.defineProperty;var wn=(e,n,t)=>n in e?bn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var O=(e,n,t)=>wn(e,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();let In=class{load(n){n.innerHTML="";const t=document.createElement("div");t.id="examples";for(const o of z.filter(r=>r.name!=="main-menu")){const r=document.createElement("div");r.innerHTML=o.name,r.onclick=()=>{const i=document.querySelector("#app");localStorage.setItem("currentApp",o.name),history.pushState({appName:o.name},""),o.app.load(i)},t.appendChild(r)}n.appendChild(t)}unload(){throw new Error("Method not implemented.")}};const Fn=new In;var Cn=`#version 300 es

in vec4 a_position;
in vec4 a_colour;

out vec4 v_colour;

void main() {
  gl_Position = a_position;
  v_colour = a_colour;
}`,Nn=`#version 300 es

precision highp float;

in vec4 v_colour;

out vec4 outColour;

uniform float u_time;

void main() {
  float t = u_time / 1000.0;
  float s = (sin(t) / 2.0) + 0.5;
  float c = (cos(t) / 2.0) + 0.5;
  outColour = vec4(
    c / 2.0 + v_colour.x / 2.0,
    s / 2.0 + v_colour.y / 2.0,
    c / 4.0 + s / 4.0 + v_colour.z / 2.0,
    v_colour.w);
}`;/* @license twgl.js 5.5.4 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const me=5120,H=5121,de=5122,pe=5123,ve=5124,Ae=5125,ye=5126,Mn=32819,Rn=32820,Pn=33635,Bn=5131,Ln=33640,Un=35899,Dn=35902,gn=36269,zn=34042,De={};{const e=De;e[me]=Int8Array,e[H]=Uint8Array,e[de]=Int16Array,e[pe]=Uint16Array,e[ve]=Int32Array,e[Ae]=Uint32Array,e[ye]=Float32Array,e[Mn]=Uint16Array,e[Rn]=Uint16Array,e[Pn]=Uint16Array,e[Bn]=Uint16Array,e[Ln]=Uint32Array,e[Un]=Uint32Array,e[Dn]=Uint32Array,e[gn]=Uint32Array,e[zn]=Uint32Array}function ge(e){if(e instanceof Int8Array)return me;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return H;if(e instanceof Int16Array)return de;if(e instanceof Uint16Array)return pe;if(e instanceof Int32Array)return ve;if(e instanceof Uint32Array)return Ae;if(e instanceof Float32Array)return ye;throw new Error("unsupported typed array type")}function ze(e){if(e===Int8Array)return me;if(e===Uint8Array||e===Uint8ClampedArray)return H;if(e===Int16Array)return de;if(e===Uint16Array)return pe;if(e===Int32Array)return ve;if(e===Uint32Array)return Ae;if(e===Float32Array)return ye;throw new Error("unsupported typed array type")}function On(e){const n=De[e];if(!n)throw new Error("unknown gl type");return n}const ue=typeof SharedArrayBuffer<"u"?function(n){return n&&n.buffer&&(n.buffer instanceof ArrayBuffer||n.buffer instanceof SharedArrayBuffer)}:function(n){return n&&n.buffer&&n.buffer instanceof ArrayBuffer};function kn(...e){console.error(...e)}const Ne=new Map;function Oe(e,n){if(!e||typeof e!="object")return!1;let t=Ne.get(n);t||(t=new WeakMap,Ne.set(n,t));let o=t.get(e);if(o===void 0){const r=Object.prototype.toString.call(e);o=r.substring(8,r.length-1)===n,t.set(e,o)}return o}function $n(e,n){return typeof WebGLBuffer<"u"&&Oe(n,"WebGLBuffer")}function ke(e,n){return typeof WebGLTexture<"u"&&Oe(n,"WebGLTexture")}const $e=35044,g=34962,Vn=34963,Gn=34660,Hn=5120,Wn=5121,jn=5122,Yn=5123,qn=5124,Kn=5125,Ve=5126,Ge={attribPrefix:""};function Xn(e,n,t,o,r){e.bindBuffer(n,t),e.bufferData(n,o,r||$e)}function He(e,n,t,o){if($n(e,n))return n;t=t||g;const r=e.createBuffer();return Xn(e,t,r,n,o),r}function We(e){return e==="indices"}function Zn(e){return e===Int8Array||e===Uint8Array}function Jn(e){return e.length?e:e.data}const Qn=/coord|texture/i,et=/color|colour/i;function nt(e,n){let t;if(Qn.test(e)?t=2:et.test(e)?t=4:t=3,n%t>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${t} but ${n} values is not evenly divisible by ${t}. You should specify it.`);return t}function tt(e,n,t){return e.numComponents||e.size||nt(n,t||Jn(e).length)}function je(e,n){if(ue(e))return e;if(ue(e.data))return e.data;Array.isArray(e)&&(e={data:e});let t=e.type?_e(e.type):void 0;return t||(We(n)?t=Uint16Array:t=Float32Array),new t(e.data)}function rt(e){return typeof e=="number"?e:e?ze(e):Ve}function _e(e){return typeof e=="number"?On(e):e||Float32Array}function ot(e,n){return{buffer:n.buffer,numValues:2*3*4,type:rt(n.type),arrayType:_e(n.type)}}function it(e,n){const t=n.data||n,o=_e(n.type),r=t*o.BYTES_PER_ELEMENT,i=e.createBuffer();return e.bindBuffer(g,i),e.bufferData(g,r,n.drawType||$e),{buffer:i,numValues:t,type:ze(o),arrayType:o}}function st(e,n,t){const o=je(n,t);return{arrayType:o.constructor,buffer:He(e,o,void 0,n.drawType),type:ge(o),numValues:0}}function at(e,n){const t={};return Object.keys(n).forEach(function(o){if(!We(o)){const r=n[o],i=r.attrib||r.name||r.attribName||Ge.attribPrefix+o;if(r.value){if(!Array.isArray(r.value)&&!ue(r.value))throw new Error("array.value is not array or typedarray");t[i]={value:r.value}}else{let a;r.buffer&&r.buffer instanceof WebGLBuffer?a=ot:typeof r=="number"||typeof r.data=="number"?a=it:a=st;const{buffer:s,type:c,numValues:f,arrayType:l}=a(e,r,o),u=r.normalize!==void 0?r.normalize:Zn(l),d=tt(r,o,f);t[i]={buffer:s,numComponents:d,type:c,normalize:u,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),e.bindBuffer(g,null),t}function ct(e,n){return n===Hn||n===Wn?1:n===jn||n===Yn?2:n===qn||n===Kn||n===Ve?4:0}const ce=["position","positions","a_position"];function ft(e,n){let t,o;for(o=0;o<ce.length&&(t=ce[o],!(t in n||(t=Ge.attribPrefix+t,t in n)));++o);o===ce.length&&(t=Object.keys(n)[0]);const r=n[t];if(!r.buffer)return 1;e.bindBuffer(g,r.buffer);const i=e.getBufferParameter(g,Gn);e.bindBuffer(g,null);const a=ct(e,r.type),s=i/a,c=r.numComponents||r.size,f=s/c;if(f%1!==0)throw new Error(`numComponents ${c} not correct for length ${length}`);return f}function W(e,n,t){const o=at(e,n),r=Object.assign({},t||{});r.attribs=Object.assign({},t?t.attribs:{},o);const i=n.indices;if(i){const a=je(i,"indices");r.indices=He(e,a,Vn),r.numElements=a.length,r.elementType=ge(a)}else r.numElements||(r.numElements=ft(e,r.attribs));return r}function Te(e){return!!e.texStorage2D}const ut=function(){const e={},n={};function t(o){const r=o.constructor.name;if(!e[r]){for(const i in o)if(typeof o[i]=="number"){const a=n[o[i]];n[o[i]]=a?`${a} | ${i}`:i}e[r]=!0}}return function(r,i){return t(r),n[i]||(typeof i=="number"?`0x${i.toString(16)}`:i)}}(),lt=6406,Me=6407,Re=6408,mt=6409,dt=6410,pt=6402,vt=34041,At=33319,yt=33320,_t=6403,Tt=36244,ht=36248,Et=36249,xt={};{const e=xt;e[lt]={numColorComponents:1},e[mt]={numColorComponents:1},e[dt]={numColorComponents:2},e[Me]={numColorComponents:3},e[Re]={numColorComponents:4},e[_t]={numColorComponents:1},e[Tt]={numColorComponents:1},e[At]={numColorComponents:2},e[yt]={numColorComponents:2},e[Me]={numColorComponents:3},e[ht]={numColorComponents:3},e[Re]={numColorComponents:4},e[Et]={numColorComponents:4},e[pt]={numColorComponents:1},e[vt]={numColorComponents:2}}const he=kn;function Ye(e){return typeof document<"u"&&document.getElementById?document.getElementById(e):null}const Z=33984,Q=34962,St=34963,bt=35713,wt=35714,It=35632,Ft=35633,Ct=35981,qe=35718,Nt=35721,Mt=35971,Rt=35382,Pt=35396,Bt=35398,Lt=35392,Ut=35395,ee=5126,Ke=35664,Xe=35665,Ze=35666,Ee=5124,Je=35667,Qe=35668,en=35669,nn=35670,tn=35671,rn=35672,on=35673,sn=35674,an=35675,cn=35676,Dt=35678,gt=35680,zt=35679,Ot=35682,kt=35685,$t=35686,Vt=35687,Gt=35688,Ht=35689,Wt=35690,jt=36289,Yt=36292,qt=36293,xe=5125,fn=36294,un=36295,ln=36296,Kt=36298,Xt=36299,Zt=36300,Jt=36303,Qt=36306,er=36307,nr=36308,tr=36311,ne=3553,te=34067,Se=32879,re=35866,v={};function mn(e,n){return v[n].bindPoint}function rr(e,n){return function(t){e.uniform1f(n,t)}}function or(e,n){return function(t){e.uniform1fv(n,t)}}function ir(e,n){return function(t){e.uniform2fv(n,t)}}function sr(e,n){return function(t){e.uniform3fv(n,t)}}function ar(e,n){return function(t){e.uniform4fv(n,t)}}function dn(e,n){return function(t){e.uniform1i(n,t)}}function pn(e,n){return function(t){e.uniform1iv(n,t)}}function vn(e,n){return function(t){e.uniform2iv(n,t)}}function An(e,n){return function(t){e.uniform3iv(n,t)}}function yn(e,n){return function(t){e.uniform4iv(n,t)}}function cr(e,n){return function(t){e.uniform1ui(n,t)}}function fr(e,n){return function(t){e.uniform1uiv(n,t)}}function ur(e,n){return function(t){e.uniform2uiv(n,t)}}function lr(e,n){return function(t){e.uniform3uiv(n,t)}}function mr(e,n){return function(t){e.uniform4uiv(n,t)}}function dr(e,n){return function(t){e.uniformMatrix2fv(n,!1,t)}}function pr(e,n){return function(t){e.uniformMatrix3fv(n,!1,t)}}function vr(e,n){return function(t){e.uniformMatrix4fv(n,!1,t)}}function Ar(e,n){return function(t){e.uniformMatrix2x3fv(n,!1,t)}}function yr(e,n){return function(t){e.uniformMatrix3x2fv(n,!1,t)}}function _r(e,n){return function(t){e.uniformMatrix2x4fv(n,!1,t)}}function Tr(e,n){return function(t){e.uniformMatrix4x2fv(n,!1,t)}}function hr(e,n){return function(t){e.uniformMatrix3x4fv(n,!1,t)}}function Er(e,n){return function(t){e.uniformMatrix4x3fv(n,!1,t)}}function F(e,n,t,o){const r=mn(e,n);return Te(e)?function(i){let a,s;!i||ke(e,i)?(a=i,s=null):(a=i.texture,s=i.sampler),e.uniform1i(o,t),e.activeTexture(Z+t),e.bindTexture(r,a),e.bindSampler(t,s)}:function(i){e.uniform1i(o,t),e.activeTexture(Z+t),e.bindTexture(r,i)}}function C(e,n,t,o,r){const i=mn(e,n),a=new Int32Array(r);for(let s=0;s<r;++s)a[s]=t+s;return Te(e)?function(s){e.uniform1iv(o,a),s.forEach(function(c,f){e.activeTexture(Z+a[f]);let l,u;!c||ke(e,c)?(l=c,u=null):(l=c.texture,u=c.sampler),e.bindSampler(t,u),e.bindTexture(i,l)})}:function(s){e.uniform1iv(o,a),s.forEach(function(c,f){e.activeTexture(Z+a[f]),e.bindTexture(i,c)})}}v[ee]={Type:Float32Array,size:4,setter:rr,arraySetter:or};v[Ke]={Type:Float32Array,size:8,setter:ir,cols:2};v[Xe]={Type:Float32Array,size:12,setter:sr,cols:3};v[Ze]={Type:Float32Array,size:16,setter:ar,cols:4};v[Ee]={Type:Int32Array,size:4,setter:dn,arraySetter:pn};v[Je]={Type:Int32Array,size:8,setter:vn,cols:2};v[Qe]={Type:Int32Array,size:12,setter:An,cols:3};v[en]={Type:Int32Array,size:16,setter:yn,cols:4};v[xe]={Type:Uint32Array,size:4,setter:cr,arraySetter:fr};v[fn]={Type:Uint32Array,size:8,setter:ur,cols:2};v[un]={Type:Uint32Array,size:12,setter:lr,cols:3};v[ln]={Type:Uint32Array,size:16,setter:mr,cols:4};v[nn]={Type:Uint32Array,size:4,setter:dn,arraySetter:pn};v[tn]={Type:Uint32Array,size:8,setter:vn,cols:2};v[rn]={Type:Uint32Array,size:12,setter:An,cols:3};v[on]={Type:Uint32Array,size:16,setter:yn,cols:4};v[sn]={Type:Float32Array,size:32,setter:dr,rows:2,cols:2};v[an]={Type:Float32Array,size:48,setter:pr,rows:3,cols:3};v[cn]={Type:Float32Array,size:64,setter:vr,rows:4,cols:4};v[kt]={Type:Float32Array,size:32,setter:Ar,rows:2,cols:3};v[$t]={Type:Float32Array,size:32,setter:_r,rows:2,cols:4};v[Vt]={Type:Float32Array,size:48,setter:yr,rows:3,cols:2};v[Gt]={Type:Float32Array,size:48,setter:hr,rows:3,cols:4};v[Ht]={Type:Float32Array,size:64,setter:Tr,rows:4,cols:2};v[Wt]={Type:Float32Array,size:64,setter:Er,rows:4,cols:3};v[Dt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ne};v[gt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:te};v[zt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Se};v[Ot]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ne};v[jt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:re};v[Yt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:re};v[qt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:te};v[Kt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ne};v[Xt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Se};v[Zt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:te};v[Jt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:re};v[Qt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ne};v[er]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Se};v[nr]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:te};v[tr]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:re};function oe(e,n){return function(t){if(t.value)switch(e.disableVertexAttribArray(n),t.value.length){case 4:e.vertexAttrib4fv(n,t.value);break;case 3:e.vertexAttrib3fv(n,t.value);break;case 2:e.vertexAttrib2fv(n,t.value);break;case 1:e.vertexAttrib1fv(n,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(Q,t.buffer),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,t.numComponents||t.size,t.type||ee,t.normalize||!1,t.stride||0,t.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(n,t.divisor||0)}}function L(e,n){return function(t){if(t.value)if(e.disableVertexAttribArray(n),t.value.length===4)e.vertexAttrib4iv(n,t.value);else throw new Error("The length of an integer constant value must be 4!");else e.bindBuffer(Q,t.buffer),e.enableVertexAttribArray(n),e.vertexAttribIPointer(n,t.numComponents||t.size,t.type||Ee,t.stride||0,t.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(n,t.divisor||0)}}function ie(e,n){return function(t){if(t.value)if(e.disableVertexAttribArray(n),t.value.length===4)e.vertexAttrib4uiv(n,t.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else e.bindBuffer(Q,t.buffer),e.enableVertexAttribArray(n),e.vertexAttribIPointer(n,t.numComponents||t.size,t.type||xe,t.stride||0,t.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(n,t.divisor||0)}}function be(e,n,t){const o=t.size,r=t.count;return function(i){e.bindBuffer(Q,i.buffer);const a=i.size||i.numComponents||o,s=a/r,c=i.type||ee,l=v[c].size*a,u=i.normalize||!1,d=i.offset||0,m=l/r;for(let p=0;p<r;++p)e.enableVertexAttribArray(n+p),e.vertexAttribPointer(n+p,s,c,u,l,d+m*p),e.vertexAttribDivisor&&e.vertexAttribDivisor(n+p,i.divisor||0)}}const w={};w[ee]={size:4,setter:oe};w[Ke]={size:8,setter:oe};w[Xe]={size:12,setter:oe};w[Ze]={size:16,setter:oe};w[Ee]={size:4,setter:L};w[Je]={size:8,setter:L};w[Qe]={size:12,setter:L};w[en]={size:16,setter:L};w[xe]={size:4,setter:ie};w[fn]={size:8,setter:ie};w[un]={size:12,setter:ie};w[ln]={size:16,setter:ie};w[nn]={size:4,setter:L};w[tn]={size:8,setter:L};w[rn]={size:12,setter:L};w[on]={size:16,setter:L};w[sn]={size:4,setter:be,count:2};w[an]={size:9,setter:be,count:3};w[cn]={size:16,setter:be,count:4};const xr=/ERROR:\s*\d+:(\d+)/gi;function Sr(e,n="",t=0){const o=[...n.matchAll(xr)],r=new Map(o.map((i,a)=>{const s=parseInt(i[1]),c=o[a+1],f=c?c.index:n.length,l=n.substring(i.index,f);return[s-1,l]}));return e.split(`
`).map((i,a)=>{const s=r.get(a);return`${a+1+t}: ${i}${s?`

^^^ ${s}`:""}`}).join(`
`)}const Pe=/^[ \t]*\n/;function _n(e){let n=0;return Pe.test(e)&&(n=1,e=e.replace(Pe,"")),{lineOffset:n,shaderSource:e}}function br(e,n){return e.errorCallback(n),e.callback&&setTimeout(()=>{e.callback(`${n}
${e.errors.join(`
`)}`)}),null}function wr(e,n,t,o){if(o=o||he,!e.getShaderParameter(t,bt)){const i=e.getShaderInfoLog(t),{lineOffset:a,shaderSource:s}=_n(e.getShaderSource(t)),c=`${Sr(s,i,a)}
Error compiling ${ut(e,n)}: ${i}`;return o(c),c}return""}function we(e,n,t){let o,r,i;if(typeof n=="function"&&(t=n,n=void 0),typeof e=="function")t=e,e=void 0;else if(e&&!Array.isArray(e)){const f=e;t=f.errorCallback,e=f.attribLocations,o=f.transformFeedbackVaryings,r=f.transformFeedbackMode,i=f.callback}const a=t||he,s=[],c={errorCallback(f,...l){s.push(f),a(f,...l)},transformFeedbackVaryings:o,transformFeedbackMode:r,callback:i,errors:s};{let f={};Array.isArray(e)?e.forEach(function(l,u){f[l]=n?n[u]:u}):f=e||{},c.attribLocations=f}return c}const Ir=["VERTEX_SHADER","FRAGMENT_SHADER"];function Fr(e,n){if(n.indexOf("frag")>=0)return It;if(n.indexOf("vert")>=0)return Ft}function Cr(e,n,t){const o=e.getAttachedShaders(n);for(const r of o)t.has(r)&&e.deleteShader(r);e.deleteProgram(n)}const Nr=(e=0)=>new Promise(n=>setTimeout(n,e));function Mr(e,n,t){const o=e.createProgram(),{attribLocations:r,transformFeedbackVaryings:i,transformFeedbackMode:a}=we(t);for(let s=0;s<n.length;++s){let c=n[s];if(typeof c=="string"){const f=Ye(c),l=f?f.text:c;let u=e[Ir[s]];f&&f.type&&(u=Fr(e,f.type)||u),c=e.createShader(u),e.shaderSource(c,_n(l).shaderSource),e.compileShader(c),e.attachShader(o,c)}}Object.entries(r).forEach(([s,c])=>e.bindAttribLocation(o,c,s));{let s=i;s&&(s.attribs&&(s=s.attribs),Array.isArray(s)||(s=Object.keys(s)),e.transformFeedbackVaryings(o,s,a||Ct))}return e.linkProgram(o),o}function Rr(e,n,t,o,r){const i=we(t,o,r),a=new Set(n),s=Mr(e,n,i);function c(f,l){const u=Br(f,l,i.errorCallback);return u&&Cr(f,l,a),u}if(i.callback){Pr(e,s).then(()=>{const f=c(e,s);i.callback(f,f?void 0:s)});return}return c(e,s)?void 0:s}async function Pr(e,n){const t=e.getExtension("KHR_parallel_shader_compile"),o=t?(i,a)=>i.getProgramParameter(a,t.COMPLETION_STATUS_KHR):()=>!0;let r=0;do await Nr(r),r=1e3/60;while(!o(e,n))}function Br(e,n,t){if(t=t||he,!e.getProgramParameter(n,wt)){const r=e.getProgramInfoLog(n);t(`Error in program linking: ${r}`);const a=e.getAttachedShaders(n).map(s=>wr(e,e.getShaderParameter(s,e.SHADER_TYPE),s,t));return`${r}
${a.filter(s=>s).join(`
`)}`}}function Lr(e,n,t,o,r){return Rr(e,n,t,o,r)}function Tn(e){const n=e.name;return n.startsWith("gl_")||n.startsWith("webgl_")}const Ur=/(\.|\[|]|\w+)/g,Dr=e=>e>="0"&&e<="9";function gr(e,n,t,o){const r=e.split(Ur).filter(s=>s!=="");let i=0,a="";for(;;){const s=r[i++];a+=s;const c=Dr(s[0]),f=c?parseInt(s):s;if(c&&(a+=r[i++]),i===r.length){t[f]=n;break}else{const u=r[i++],d=u==="[",m=t[f]||(d?[]:{});t[f]=m,t=m,o[a]=o[a]||function(p){return function(A){hn(p,A)}}(m),a+=u}}}function zr(e,n){let t=0;function o(s,c,f){const l=c.name.endsWith("[0]"),u=c.type,d=v[u];if(!d)throw new Error(`unknown type: 0x${u.toString(16)}`);let m;if(d.bindPoint){const p=t;t+=c.size,l?m=d.arraySetter(e,u,p,f,c.size):m=d.setter(e,u,p,f,c.size)}else d.arraySetter&&l?m=d.arraySetter(e,f):m=d.setter(e,f);return m.location=f,m}const r={},i={},a=e.getProgramParameter(n,qe);for(let s=0;s<a;++s){const c=e.getActiveUniform(n,s);if(Tn(c))continue;let f=c.name;f.endsWith("[0]")&&(f=f.substr(0,f.length-3));const l=e.getUniformLocation(n,c.name);if(l){const u=o(n,c,l);r[f]=u,gr(f,u,i,r)}}return r}function Or(e,n){const t={},o=e.getProgramParameter(n,Mt);for(let r=0;r<o;++r){const i=e.getTransformFeedbackVarying(n,r);t[i.name]={index:r,type:i.type,size:i.size}}return t}function kr(e,n){const t=e.getProgramParameter(n,qe),o=[],r=[];for(let s=0;s<t;++s){r.push(s),o.push({});const c=e.getActiveUniform(n,s);o[s].name=c.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(s){const c=s[0],f=s[1];e.getActiveUniforms(n,r,e[c]).forEach(function(l,u){o[u][f]=l})});const i={},a=e.getProgramParameter(n,Rt);for(let s=0;s<a;++s){const c=e.getActiveUniformBlockName(n,s),f={index:e.getUniformBlockIndex(n,c),usedByVertexShader:e.getActiveUniformBlockParameter(n,s,Pt),usedByFragmentShader:e.getActiveUniformBlockParameter(n,s,Bt),size:e.getActiveUniformBlockParameter(n,s,Lt),uniformIndices:e.getActiveUniformBlockParameter(n,s,Ut)};f.used=f.usedByVertexShader||f.usedByFragmentShader,i[c]=f}return{blockSpecs:i,uniformData:o}}function hn(e,n){for(const t in n){const o=e[t];typeof o=="function"?o(n[t]):hn(e[t],n[t])}}function k(e,...n){const t=e.uniformSetters||e,o=n.length;for(let r=0;r<o;++r){const i=n[r];if(Array.isArray(i)){const a=i.length;for(let s=0;s<a;++s)k(t,i[s])}else for(const a in i){const s=t[a];s&&s(i[a])}}}function $r(e,n){const t={},o=e.getProgramParameter(n,Nt);for(let r=0;r<o;++r){const i=e.getActiveAttrib(n,r);if(Tn(i))continue;const a=e.getAttribLocation(n,i.name),s=w[i.type],c=s.setter(e,a,s);c.location=a,t[i.name]=c}return t}function Vr(e,n){for(const t in n){const o=e[t];o&&o(n[t])}}function j(e,n,t){t.vertexArrayObject?e.bindVertexArray(t.vertexArrayObject):(Vr(n.attribSetters||n,t.attribs),t.indices&&e.bindBuffer(St,t.indices))}function Be(e,n){const t=zr(e,n),o=$r(e,n),r={program:n,uniformSetters:t,attribSetters:o};return Te(e)&&(r.uniformBlockSpec=kr(e,n),r.transformFeedbackInfo=Or(e,n)),r}const Gr=/\s|{|}|;/;function Y(e,n,t,o,r){const i=we(t,o,r),a=[];if(n=n.map(function(f){if(!Gr.test(f)){const l=Ye(f);if(l)f=l.text;else{const u=`no element with id: ${f}`;i.errorCallback(u),a.push(u)}}return f}),a.length)return br(i,"");const s=i.callback;s&&(i.callback=(f,l)=>{s(f,f?void 0:Be(e,l))});const c=Lr(e,n,i);return c?Be(e,c):null}const Hr=4,Le=5123;function q(e,n,t,o,r,i){t=t===void 0?Hr:t;const a=n.indices,s=n.elementType,c=o===void 0?n.numElements:o;r=r===void 0?0:r,s||a?i!==void 0?e.drawElementsInstanced(t,c,s===void 0?Le:n.elementType,r,i):e.drawElements(t,c,s===void 0?Le:n.elementType,r):i!==void 0?e.drawArraysInstanced(t,r,c,i):e.drawArrays(t,r,c)}function K(e,n){n=n||1,n=Math.max(0,n);const t=e.clientWidth*n|0,o=e.clientHeight*n|0;return e.width!==t||e.height!==o?(e.width=t,e.height=o,!0):!1}function X(e){e.width=window.innerWidth,e.height=window.innerHeight;const n=e.getContext("webgl2");if(n)console.log("WebGL initialized successfully");else throw alert("WebGL not supported"),Error("WebGL not supported");return n}let Wr=class{constructor(){O(this,"div");O(this,"canvas")}load(n){this.div=n,this.canvas=document.createElement("canvas"),n.innerHTML="",n.append(this.canvas);const t=X(this.canvas);var o=Y(t,[Cn,Nn]);const r={a_position:{numComponents:2,data:new Float32Array([-1,-1,1,-1,1,1,-1,1])},a_colour:{numComponents:3,data:new Float32Array([1,0,0,0,1,0,0,0,1,1,1,1])},indices:{numComponents:3,data:new Uint16Array([0,1,3,1,2,3])}},i=W(t,r);function a(s){K(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.DEPTH_TEST);const c={u_time:s};t.useProgram(o.program),j(t,o,i),k(o,c),q(t,i),requestAnimationFrame(a)}requestAnimationFrame(a)}unload(){var n;(n=this.canvas)==null||n.remove()}};const jr=new Wr;var Yr=`#version 300 es

in vec4 a_position;
in vec4 a_colour;

uniform mat4 u_matrix;

out vec4 v_colour;

void main() {
  gl_Position = u_matrix * a_position;
  v_colour = a_colour;
}`,qr=`#version 300 es

precision highp float;

in vec4 v_colour;

out vec4 outColour;

void main() {
  outColour = v_colour;
}`,fe=1e-6,J=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,n=arguments.length;n--;)e+=arguments[n]*arguments[n];return Math.sqrt(e)});function b(){var e=new J(16);return J!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Kr(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function En(e,n){if(e===n){var t=n[1],o=n[2],r=n[3],i=n[6],a=n[7],s=n[11];e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=t,e[6]=n[9],e[7]=n[13],e[8]=o,e[9]=i,e[11]=n[14],e[12]=r,e[13]=a,e[14]=s}else e[0]=n[0],e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=n[1],e[5]=n[5],e[6]=n[9],e[7]=n[13],e[8]=n[2],e[9]=n[6],e[10]=n[10],e[11]=n[14],e[12]=n[3],e[13]=n[7],e[14]=n[11],e[15]=n[15];return e}function xn(e,n){var t=n[0],o=n[1],r=n[2],i=n[3],a=n[4],s=n[5],c=n[6],f=n[7],l=n[8],u=n[9],d=n[10],m=n[11],p=n[12],A=n[13],x=n[14],E=n[15],S=t*s-o*a,y=t*c-r*a,_=t*f-i*a,T=o*c-r*s,h=o*f-i*s,N=r*f-i*c,M=l*A-u*p,R=l*x-d*p,P=l*E-m*p,U=u*x-d*A,$=u*E-m*A,V=d*E-m*x,I=S*V-y*$+_*U+T*P-h*R+N*M;return I?(I=1/I,e[0]=(s*V-c*$+f*U)*I,e[1]=(r*$-o*V-i*U)*I,e[2]=(A*N-x*h+E*T)*I,e[3]=(d*h-u*N-m*T)*I,e[4]=(c*P-a*V-f*R)*I,e[5]=(t*V-r*P+i*R)*I,e[6]=(x*_-p*N-E*y)*I,e[7]=(l*N-d*_+m*y)*I,e[8]=(a*$-s*P+f*M)*I,e[9]=(o*P-t*$-i*M)*I,e[10]=(p*h-A*_+E*S)*I,e[11]=(u*_-l*h-m*S)*I,e[12]=(s*R-a*U-c*M)*I,e[13]=(t*U-o*R+r*M)*I,e[14]=(A*y-p*T-x*S)*I,e[15]=(l*T-u*y+d*S)*I,e):null}function B(e,n,t){var o=n[0],r=n[1],i=n[2],a=n[3],s=n[4],c=n[5],f=n[6],l=n[7],u=n[8],d=n[9],m=n[10],p=n[11],A=n[12],x=n[13],E=n[14],S=n[15],y=t[0],_=t[1],T=t[2],h=t[3];return e[0]=y*o+_*s+T*u+h*A,e[1]=y*r+_*c+T*d+h*x,e[2]=y*i+_*f+T*m+h*E,e[3]=y*a+_*l+T*p+h*S,y=t[4],_=t[5],T=t[6],h=t[7],e[4]=y*o+_*s+T*u+h*A,e[5]=y*r+_*c+T*d+h*x,e[6]=y*i+_*f+T*m+h*E,e[7]=y*a+_*l+T*p+h*S,y=t[8],_=t[9],T=t[10],h=t[11],e[8]=y*o+_*s+T*u+h*A,e[9]=y*r+_*c+T*d+h*x,e[10]=y*i+_*f+T*m+h*E,e[11]=y*a+_*l+T*p+h*S,y=t[12],_=t[13],T=t[14],h=t[15],e[12]=y*o+_*s+T*u+h*A,e[13]=y*r+_*c+T*d+h*x,e[14]=y*i+_*f+T*m+h*E,e[15]=y*a+_*l+T*p+h*S,e}function Xr(e,n,t){var o=t[0],r=t[1],i=t[2],a,s,c,f,l,u,d,m,p,A,x,E;return n===e?(e[12]=n[0]*o+n[4]*r+n[8]*i+n[12],e[13]=n[1]*o+n[5]*r+n[9]*i+n[13],e[14]=n[2]*o+n[6]*r+n[10]*i+n[14],e[15]=n[3]*o+n[7]*r+n[11]*i+n[15]):(a=n[0],s=n[1],c=n[2],f=n[3],l=n[4],u=n[5],d=n[6],m=n[7],p=n[8],A=n[9],x=n[10],E=n[11],e[0]=a,e[1]=s,e[2]=c,e[3]=f,e[4]=l,e[5]=u,e[6]=d,e[7]=m,e[8]=p,e[9]=A,e[10]=x,e[11]=E,e[12]=a*o+l*r+p*i+n[12],e[13]=s*o+u*r+A*i+n[13],e[14]=c*o+d*r+x*i+n[14],e[15]=f*o+m*r+E*i+n[15]),e}function Sn(e,n,t){var o=Math.sin(t),r=Math.cos(t),i=n[0],a=n[1],s=n[2],c=n[3],f=n[4],l=n[5],u=n[6],d=n[7];return n!==e&&(e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=i*r+f*o,e[1]=a*r+l*o,e[2]=s*r+u*o,e[3]=c*r+d*o,e[4]=f*r-i*o,e[5]=l*r-a*o,e[6]=u*r-s*o,e[7]=d*r-c*o,e}function Ie(e,n){var t=Math.sin(n),o=Math.cos(n);return e[0]=o,e[1]=0,e[2]=-t,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=t,e[9]=0,e[10]=o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Zr(e,n,t,o,r){var i=1/Math.tan(n/2),a;return e[0]=i/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(a=1/(o-r),e[10]=(r+o)*a,e[14]=2*r*o*a):(e[10]=-1,e[14]=-2*o),e}var se=Zr;function ae(e,n,t,o){var r,i,a,s,c,f,l,u,d,m,p=n[0],A=n[1],x=n[2],E=o[0],S=o[1],y=o[2],_=t[0],T=t[1],h=t[2];return Math.abs(p-_)<fe&&Math.abs(A-T)<fe&&Math.abs(x-h)<fe?Kr(e):(l=p-_,u=A-T,d=x-h,m=1/Math.hypot(l,u,d),l*=m,u*=m,d*=m,r=S*d-y*u,i=y*l-E*d,a=E*u-S*l,m=Math.hypot(r,i,a),m?(m=1/m,r*=m,i*=m,a*=m):(r=0,i=0,a=0),s=u*a-d*i,c=d*r-l*a,f=l*i-u*r,m=Math.hypot(s,c,f),m?(m=1/m,s*=m,c*=m,f*=m):(s=0,c=0,f=0),e[0]=r,e[1]=s,e[2]=l,e[3]=0,e[4]=i,e[5]=c,e[6]=u,e[7]=0,e[8]=a,e[9]=f,e[10]=d,e[11]=0,e[12]=-(r*p+i*A+a*x),e[13]=-(s*p+c*A+f*x),e[14]=-(l*p+u*A+d*x),e[15]=1,e)}function le(){var e=new J(2);return J!=Float32Array&&(e[0]=0,e[1]=0),e}function Jr(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e}function Qr(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e}function eo(e,n){var t=n[0],o=n[1],r=t*t+o*o;return r>0&&(r=1/Math.sqrt(r)),e[0]=n[0]*r,e[1]=n[1]*r,e}function no(e,n,t,o){var r=n[0]-t[0],i=n[1]-t[1],a=Math.sin(o),s=Math.cos(o);return e[0]=r*s-i*a+t[0],e[1]=r*a+i*s+t[1],e}(function(){var e=le();return function(n,t,o,r,i,a){var s,c;for(t||(t=2),o||(o=0),r?c=Math.min(r*t+o,n.length):c=n.length,s=o;s<c;s+=t)e[0]=n[s],e[1]=n[s+1],i(e,e,a),n[s]=e[0],n[s+1]=e[1];return n}})();const Fe={a_position:{numComponents:3,data:new Float32Array([-1,-1,1,1,-1,1,-1,1,1,1,-1,1,1,1,1,-1,1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,-1,-1,-1,-1,-1,1,-1,1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,1,1,1,1,1,-1,1,-1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,-1,-1,1,1,-1,-1,1,-1,1,-1,-1,1])},a_normal:{numComponents:3,data:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0])}};let to=class{load(n){const t=document.createElement("canvas");n.innerHTML="",n.append(t);const o=X(t);var r=Y(o,[Yr,qr]);const i=W(o,{...Fe,a_colour:{numComponents:3,data:new Float32Array([0,0,0,0,0,1,0,1,0,0,1,1,1,0,0,1,0,1,1,1,0,1,1,1])}});function a(s){K(o.canvas),o.viewport(0,0,o.canvas.width,o.canvas.height),o.clear(o.COLOR_BUFFER_BIT),o.enable(o.DEPTH_TEST),o.enable(o.CULL_FACE);const c=Math.PI/4,f=t.clientWidth/t.clientHeight,l=.1,u=100,d=b();se(d,c,f,l,u);const m=s/1e3,p=new Float32Array([6,0,6]),A=new Float32Array([0,0,0]),x=new Float32Array([0,1,0]),E=b();ae(E,p,A,x);const S=b();Ie(S,-m),Sn(S,S,-m);const y=b();B(E,E,S),B(y,d,E);const _={u_matrix:y,u_time:s};o.useProgram(r.program),j(o,r,i),k(r,_),q(o,i),requestAnimationFrame(a)}requestAnimationFrame(a)}unload(){throw new Error("Method not implemented.")}};const ro=new to;var oo=`#version 300 es

in vec4 a_position;
in vec4 a_colour;

uniform mat4 u_matrix;

out vec4 v_colour;

void main() {
  gl_Position = u_matrix * a_position;
  v_colour = vec4(0, 0, 0, 1);
}`,io=`#version 300 es

precision highp float;

in vec4 v_colour;

out vec4 outColour;

void main() {
  outColour = v_colour;
}`;function so(e,n,t,o){const r=[],i=[],a=(s,c)=>s+(n+1)*c;for(let s=0;s<e+1;++s)for(let c=0;c<n+1;++c)r.push(c/n*o-o/2,0,s/e*t-t/2),c!==n&&s!==e&&i.push(a(c,s),a(c+1,s),a(c+1,s),a(c,s+1),a(c,s+1),a(c,s),a(c+1,s),a(c+1,s+1),a(c+1,s+1),a(c,s+1),a(c,s+1),a(c+1,s));return{a_position:{numComponents:3,data:new Float32Array(r)},indices:{numComponents:2,data:new Uint16Array(i)}}}function ao(e){const n=document.createElement("canvas");e.innerHTML="",e.append(n);const t=X(n);var o=Y(t,[oo,io]);const r=64,i=10,a=so(r,r,i,i),s=W(t,a),c=Math.PI/4,f=n.clientWidth/n.clientHeight,l=.1,u=100,d=b();se(d,c,f,l,u),t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE);function m(p){K(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT);const A=p/1e3,x=new Float32Array([0,10,10]),E=new Float32Array([0,0,0]),S=new Float32Array([0,1,0]),y=b();ae(y,x,E,S);const _=b();B(_,d,y);const T=b();Ie(T,-A/4);const h=b();B(h,_,T);const N={u_matrix:h,u_time:p};t.useProgram(o.program),j(t,o,s),k(o,N),q(t,s,t.LINES),requestAnimationFrame(m)}requestAnimationFrame(m)}let co=class{load(n){ao(n)}unload(){}};const fo=new co;var uo=`#version 300 es

in vec4 a_position;
in vec3 a_normal;

uniform mat4 u_worldViewProjection;
uniform mat4 u_worldInverseTranspose;

out vec3 v_normal;

void main() {
  gl_Position = u_worldViewProjection * a_position;
  
  v_normal = mat3(u_worldInverseTranspose) * a_normal;
}`,lo=`#version 300 es

precision highp float;

uniform vec3 u_reverseLightDirection;
uniform vec4 u_colour;

out vec4 outColour;

in vec3 v_normal;

void main() {
  vec3 normal = normalize(v_normal);
  float light = dot(normal, u_reverseLightDirection);
  outColour = u_colour;
  outColour.rgb *= light;
}`;function mo(e){const n=document.createElement("canvas");e.innerHTML="",e.append(n);const t=X(n);var o=Y(t,[uo,lo]);const r=W(t,Fe),i=Math.PI/4,a=n.clientWidth/n.clientHeight,s=.1,c=100,f=b();se(f,i,a,s,c),t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE),t.cullFace(t.CCW);function l(u){K(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT);const d=u/1e3,m=new Float32Array([0,10,10]),p=new Float32Array([0,0,0]),A=new Float32Array([0,1,0]),x=b();ae(x,m,p,A);const E=b();B(E,f,x);const S=b();Ie(S,-d/2),Sn(S,S,-d/1.5);const y=b();B(y,E,S);const _=b();xn(_,S);const T=b();En(T,_);const h={u_worldViewProjection:y,u_worldInverseTranspose:T,u_reverseLightDirection:[1,1,1],u_time:u,u_colour:[1,0,0,1]};t.useProgram(o.program),j(t,o,r),k(o,h),q(t,r,t.TRIANGLES),requestAnimationFrame(l)}requestAnimationFrame(l)}let po=class{load(n){mo(n)}unload(){}};const vo=new po;var Ao=`#version 300 es

in vec4 a_position;
in vec3 a_normal;

uniform mat4 u_worldViewProjection;
uniform mat4 u_worldInverseTranspose;

out vec3 v_normal;

void main() {
  gl_Position = u_worldViewProjection * a_position;
  
  v_normal = mat3(u_worldInverseTranspose) * a_normal;
}`,yo=`#version 300 es

precision highp float;

uniform vec3 u_reverseLightDirection;
uniform vec4 u_colour;

out vec4 outColour;

in vec3 v_normal;

void main() {
  vec3 normal = normalize(v_normal);
  float light = dot(normal, u_reverseLightDirection);
  outColour = u_colour;
  outColour.rgb *= light;
}`;class _o{constructor(){O(this,"_input",{left:0,right:0});O(this,"direction",[1,0]);O(this,"position",[0,0])}input(n,t){this._input.left=n,this._input.right=t}step(n){const o=.01*(1e3*n),r=(this._input.left-this._input.right)*.01;no(this.direction,this.direction,[0,0],r),eo(this.direction,this.direction);const i=le();Qr(i,this.direction,o);const a=le();(this._input.left!==0||this._input.right!==0)&&(Jr(a,this.position,i),this.position=a)}}function To(e){const n=document.createElement("canvas");e.innerHTML="",e.append(n);const t=X(n);var o=Y(t,[Ao,yo]);const r=W(t,Fe),i=Math.PI/4,a=n.clientWidth/n.clientHeight,s=.1,c=1e3,f=b();se(f,i,a,s,c),t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE),t.cullFace(t.CCW);const l=new _o,u={left:0,right:0};window.addEventListener("keydown",A=>{A.key==="q"&&(u.left=1),A.key==="w"&&(u.right=1),A.key==="a"&&(u.left=-1),A.key==="s"&&(u.right=-1)}),window.addEventListener("keyup",A=>{A.key==="q"&&(u.left=0),A.key==="w"&&(u.right=0),A.key==="a"&&(u.left=0),A.key==="s"&&(u.right=0)});let d,m;function p(A){K(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT),d=A/1e3;let E=m===void 0?0:d-m;const S=new Float32Array([0,64,64]),y=new Float32Array([0,0,0]),_=new Float32Array([0,1,0]),T=b();ae(T,S,y,_);const h=b();B(h,f,T);const N=b();Xr(N,N,[l.position[0],0,l.position[1]]);const M=b();B(M,h,N);const R=b();xn(R,N);const P=b();En(P,R);const U={u_worldViewProjection:M,u_worldInverseTranspose:P,u_reverseLightDirection:[1,1,1],u_time:A,u_colour:[1,0,0,1]};t.useProgram(o.program),j(t,o,r),k(o,U),q(t,r,t.TRIANGLES),l.input(u.left,u.right),l.step(E),requestAnimationFrame(p),m=d}requestAnimationFrame(p)}let ho=class{load(n){To(n)}unload(){}};const Eo=new ho,xo=`<div id="container">
  <canvas></canvas>
  <div id="overlay">
    <div>Time: <span id="time"></span></div>
    <button id="button">Button</button>
  </div>
</div>`;class So{load(n){n.innerHTML=xo;const t=document.querySelector("#time");if(!t)throw Error;const o=document.createTextNode("");t.appendChild(o);const r=document.querySelector("#button");r.onclick=i=>{console.log(i)},requestAnimationFrame(function i(a){o.nodeValue=(a/1e3).toFixed(2),requestAnimationFrame(i)})}unload(){}}const bo=new So,z=[{name:"main-menu",app:Fn},{name:"example-1 - fullscreen quad",app:jr},{name:"example-2 - spinning cube",app:ro},{name:"example-3 - grid",app:fo},{name:"example-4 - directional lighting",app:vo},{name:"example-5 - input",app:Eo},{name:"Example 6 - UI Overlay",app:bo}],Ce=document.getElementById("app");let G=localStorage.getItem("currentApp");G||(G=z[0].name,localStorage.setItem("currentApp",G));var Ue;let D=(Ue=z.find(e=>e.name===G))==null?void 0:Ue.app;history.pushState({appName:G},"");D==null||D.load(Ce);console.log(window.location.pathname);window.onpopstate=e=>{var t,o;console.log("ev.state",e.state),console.log(e);const n=(t=e.state)==null?void 0:t.appName;D=(o=z.find(r=>r.name===n))==null?void 0:o.app,D==null||D.load(Ce)};window.onkeyup=e=>{var n;e.key==="Escape"&&(history.pushState({appName:z[0].name},""),localStorage.setItem("currentApp",z[0].name),(n=z[0].app)==null||n.load(Ce))};
