var xn=Object.defineProperty;var Sn=(e,n,t)=>n in e?xn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var g=(e,n,t)=>Sn(e,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();const le={to:e=>{var o;const n=(o=q.find(r=>r.name===e))==null?void 0:o.app;if(!n)throw Error(`No app found with name ${e}`);const t=document.querySelector("#app");localStorage.setItem("currentApp",e),history.pushState({appName:e},""),n.load(t)}};let bn=class{load(n){n.innerHTML="";const t=document.createElement("div");t.id="examples";for(const o of q.filter(r=>r.name!=="main-menu")){const r=document.createElement("div");r.innerHTML=o.name,r.onclick=()=>{le.to(o.name)},t.appendChild(r)}n.appendChild(t)}unload(){throw new Error("Method not implemented.")}};const wn=new bn;var In=`#version 300 es

in vec4 a_position;
in vec4 a_colour;

out vec4 v_colour;

void main() {
  gl_Position = a_position;
  v_colour = a_colour;
}`,Fn=`#version 300 es

precision highp float;

in vec4 v_colour;

out vec4 outColour;

uniform float u_time;

void main() {
  float t = u_time / 1000.0;
  float s = (sin(t) / 2.0) + 0.5;
  float c = (cos(t) / 2.0) + 0.5;
  outColour = vec4(
    c / 2.0 + v_colour.x / 2.0,
    s / 2.0 + v_colour.y / 2.0,
    c / 4.0 + s / 4.0 + v_colour.z / 2.0,
    v_colour.w);
}`;/* @license twgl.js 5.5.4 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const me=5120,$=5121,de=5122,pe=5123,ve=5124,Ae=5125,ye=5126,Cn=32819,Mn=32820,Nn=33635,Rn=5131,Pn=33640,Bn=35899,Ln=35902,Un=36269,Dn=34042,Le={};{const e=Le;e[me]=Int8Array,e[$]=Uint8Array,e[de]=Int16Array,e[pe]=Uint16Array,e[ve]=Int32Array,e[Ae]=Uint32Array,e[ye]=Float32Array,e[Cn]=Uint16Array,e[Mn]=Uint16Array,e[Nn]=Uint16Array,e[Rn]=Uint16Array,e[Pn]=Uint32Array,e[Bn]=Uint32Array,e[Ln]=Uint32Array,e[Un]=Uint32Array,e[Dn]=Uint32Array}function Ue(e){if(e instanceof Int8Array)return me;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return $;if(e instanceof Int16Array)return de;if(e instanceof Uint16Array)return pe;if(e instanceof Int32Array)return ve;if(e instanceof Uint32Array)return Ae;if(e instanceof Float32Array)return ye;throw new Error("unsupported typed array type")}function De(e){if(e===Int8Array)return me;if(e===Uint8Array||e===Uint8ClampedArray)return $;if(e===Int16Array)return de;if(e===Uint16Array)return pe;if(e===Int32Array)return ve;if(e===Uint32Array)return Ae;if(e===Float32Array)return ye;throw new Error("unsupported typed array type")}function gn(e){const n=Le[e];if(!n)throw new Error("unknown gl type");return n}const fe=typeof SharedArrayBuffer<"u"?function(n){return n&&n.buffer&&(n.buffer instanceof ArrayBuffer||n.buffer instanceof SharedArrayBuffer)}:function(n){return n&&n.buffer&&n.buffer instanceof ArrayBuffer};function zn(...e){console.error(...e)}const Ce=new Map;function ge(e,n){if(!e||typeof e!="object")return!1;let t=Ce.get(n);t||(t=new WeakMap,Ce.set(n,t));let o=t.get(e);if(o===void 0){const r=Object.prototype.toString.call(e);o=r.substring(8,r.length-1)===n,t.set(e,o)}return o}function On(e,n){return typeof WebGLBuffer<"u"&&ge(n,"WebGLBuffer")}function ze(e,n){return typeof WebGLTexture<"u"&&ge(n,"WebGLTexture")}const Oe=35044,D=34962,kn=34963,$n=34660,Vn=5120,Gn=5121,Hn=5122,Wn=5123,jn=5124,Yn=5125,ke=5126,$e={attribPrefix:""};function qn(e,n,t,o,r){e.bindBuffer(n,t),e.bufferData(n,o,r||Oe)}function Ve(e,n,t,o){if(On(e,n))return n;t=t||D;const r=e.createBuffer();return qn(e,t,r,n,o),r}function Ge(e){return e==="indices"}function Kn(e){return e===Int8Array||e===Uint8Array}function Xn(e){return e.length?e:e.data}const Zn=/coord|texture/i,Jn=/color|colour/i;function Qn(e,n){let t;if(Zn.test(e)?t=2:Jn.test(e)?t=4:t=3,n%t>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${t} but ${n} values is not evenly divisible by ${t}. You should specify it.`);return t}function et(e,n,t){return e.numComponents||e.size||Qn(n,t||Xn(e).length)}function He(e,n){if(fe(e))return e;if(fe(e.data))return e.data;Array.isArray(e)&&(e={data:e});let t=e.type?_e(e.type):void 0;return t||(Ge(n)?t=Uint16Array:t=Float32Array),new t(e.data)}function nt(e){return typeof e=="number"?e:e?De(e):ke}function _e(e){return typeof e=="number"?gn(e):e||Float32Array}function tt(e,n){return{buffer:n.buffer,numValues:2*3*4,type:nt(n.type),arrayType:_e(n.type)}}function rt(e,n){const t=n.data||n,o=_e(n.type),r=t*o.BYTES_PER_ELEMENT,i=e.createBuffer();return e.bindBuffer(D,i),e.bufferData(D,r,n.drawType||Oe),{buffer:i,numValues:t,type:De(o),arrayType:o}}function ot(e,n,t){const o=He(n,t);return{arrayType:o.constructor,buffer:Ve(e,o,void 0,n.drawType),type:Ue(o),numValues:0}}function it(e,n){const t={};return Object.keys(n).forEach(function(o){if(!Ge(o)){const r=n[o],i=r.attrib||r.name||r.attribName||$e.attribPrefix+o;if(r.value){if(!Array.isArray(r.value)&&!fe(r.value))throw new Error("array.value is not array or typedarray");t[i]={value:r.value}}else{let a;r.buffer&&r.buffer instanceof WebGLBuffer?a=tt:typeof r=="number"||typeof r.data=="number"?a=rt:a=ot;const{buffer:s,type:c,numValues:f,arrayType:l}=a(e,r,o),u=r.normalize!==void 0?r.normalize:Kn(l),d=et(r,o,f);t[i]={buffer:s,numComponents:d,type:c,normalize:u,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),e.bindBuffer(D,null),t}function st(e,n){return n===Vn||n===Gn?1:n===Hn||n===Wn?2:n===jn||n===Yn||n===ke?4:0}const ae=["position","positions","a_position"];function at(e,n){let t,o;for(o=0;o<ae.length&&(t=ae[o],!(t in n||(t=$e.attribPrefix+t,t in n)));++o);o===ae.length&&(t=Object.keys(n)[0]);const r=n[t];if(!r.buffer)return 1;e.bindBuffer(D,r.buffer);const i=e.getBufferParameter(D,$n);e.bindBuffer(D,null);const a=st(e,r.type),s=i/a,c=r.numComponents||r.size,f=s/c;if(f%1!==0)throw new Error(`numComponents ${c} not correct for length ${length}`);return f}function V(e,n,t){const o=it(e,n),r=Object.assign({},t||{});r.attribs=Object.assign({},t?t.attribs:{},o);const i=n.indices;if(i){const a=He(i,"indices");r.indices=Ve(e,a,kn),r.numElements=a.length,r.elementType=Ue(a)}else r.numElements||(r.numElements=at(e,r.attribs));return r}function Te(e){return!!e.texStorage2D}const ct=function(){const e={},n={};function t(o){const r=o.constructor.name;if(!e[r]){for(const i in o)if(typeof o[i]=="number"){const a=n[o[i]];n[o[i]]=a?`${a} | ${i}`:i}e[r]=!0}}return function(r,i){return t(r),n[i]||(typeof i=="number"?`0x${i.toString(16)}`:i)}}(),ft=6406,Me=6407,Ne=6408,ut=6409,lt=6410,mt=6402,dt=34041,pt=33319,vt=33320,At=6403,yt=36244,_t=36248,Tt=36249,Et={};{const e=Et;e[ft]={numColorComponents:1},e[ut]={numColorComponents:1},e[lt]={numColorComponents:2},e[Me]={numColorComponents:3},e[Ne]={numColorComponents:4},e[At]={numColorComponents:1},e[yt]={numColorComponents:1},e[pt]={numColorComponents:2},e[vt]={numColorComponents:2},e[Me]={numColorComponents:3},e[_t]={numColorComponents:3},e[Ne]={numColorComponents:4},e[Tt]={numColorComponents:4},e[mt]={numColorComponents:1},e[dt]={numColorComponents:2}}const Ee=zn;function We(e){return typeof document<"u"&&document.getElementById?document.getElementById(e):null}const X=33984,J=34962,ht=34963,xt=35713,St=35714,bt=35632,wt=35633,It=35981,je=35718,Ft=35721,Ct=35971,Mt=35382,Nt=35396,Rt=35398,Pt=35392,Bt=35395,Q=5126,Ye=35664,qe=35665,Ke=35666,he=5124,Xe=35667,Ze=35668,Je=35669,Qe=35670,en=35671,nn=35672,tn=35673,rn=35674,on=35675,sn=35676,Lt=35678,Ut=35680,Dt=35679,gt=35682,zt=35685,Ot=35686,kt=35687,$t=35688,Vt=35689,Gt=35690,Ht=36289,Wt=36292,jt=36293,xe=5125,an=36294,cn=36295,fn=36296,Yt=36298,qt=36299,Kt=36300,Xt=36303,Zt=36306,Jt=36307,Qt=36308,er=36311,ee=3553,ne=34067,Se=32879,te=35866,v={};function un(e,n){return v[n].bindPoint}function nr(e,n){return function(t){e.uniform1f(n,t)}}function tr(e,n){return function(t){e.uniform1fv(n,t)}}function rr(e,n){return function(t){e.uniform2fv(n,t)}}function or(e,n){return function(t){e.uniform3fv(n,t)}}function ir(e,n){return function(t){e.uniform4fv(n,t)}}function ln(e,n){return function(t){e.uniform1i(n,t)}}function mn(e,n){return function(t){e.uniform1iv(n,t)}}function dn(e,n){return function(t){e.uniform2iv(n,t)}}function pn(e,n){return function(t){e.uniform3iv(n,t)}}function vn(e,n){return function(t){e.uniform4iv(n,t)}}function sr(e,n){return function(t){e.uniform1ui(n,t)}}function ar(e,n){return function(t){e.uniform1uiv(n,t)}}function cr(e,n){return function(t){e.uniform2uiv(n,t)}}function fr(e,n){return function(t){e.uniform3uiv(n,t)}}function ur(e,n){return function(t){e.uniform4uiv(n,t)}}function lr(e,n){return function(t){e.uniformMatrix2fv(n,!1,t)}}function mr(e,n){return function(t){e.uniformMatrix3fv(n,!1,t)}}function dr(e,n){return function(t){e.uniformMatrix4fv(n,!1,t)}}function pr(e,n){return function(t){e.uniformMatrix2x3fv(n,!1,t)}}function vr(e,n){return function(t){e.uniformMatrix3x2fv(n,!1,t)}}function Ar(e,n){return function(t){e.uniformMatrix2x4fv(n,!1,t)}}function yr(e,n){return function(t){e.uniformMatrix4x2fv(n,!1,t)}}function _r(e,n){return function(t){e.uniformMatrix3x4fv(n,!1,t)}}function Tr(e,n){return function(t){e.uniformMatrix4x3fv(n,!1,t)}}function F(e,n,t,o){const r=un(e,n);return Te(e)?function(i){let a,s;!i||ze(e,i)?(a=i,s=null):(a=i.texture,s=i.sampler),e.uniform1i(o,t),e.activeTexture(X+t),e.bindTexture(r,a),e.bindSampler(t,s)}:function(i){e.uniform1i(o,t),e.activeTexture(X+t),e.bindTexture(r,i)}}function C(e,n,t,o,r){const i=un(e,n),a=new Int32Array(r);for(let s=0;s<r;++s)a[s]=t+s;return Te(e)?function(s){e.uniform1iv(o,a),s.forEach(function(c,f){e.activeTexture(X+a[f]);let l,u;!c||ze(e,c)?(l=c,u=null):(l=c.texture,u=c.sampler),e.bindSampler(t,u),e.bindTexture(i,l)})}:function(s){e.uniform1iv(o,a),s.forEach(function(c,f){e.activeTexture(X+a[f]),e.bindTexture(i,c)})}}v[Q]={Type:Float32Array,size:4,setter:nr,arraySetter:tr};v[Ye]={Type:Float32Array,size:8,setter:rr,cols:2};v[qe]={Type:Float32Array,size:12,setter:or,cols:3};v[Ke]={Type:Float32Array,size:16,setter:ir,cols:4};v[he]={Type:Int32Array,size:4,setter:ln,arraySetter:mn};v[Xe]={Type:Int32Array,size:8,setter:dn,cols:2};v[Ze]={Type:Int32Array,size:12,setter:pn,cols:3};v[Je]={Type:Int32Array,size:16,setter:vn,cols:4};v[xe]={Type:Uint32Array,size:4,setter:sr,arraySetter:ar};v[an]={Type:Uint32Array,size:8,setter:cr,cols:2};v[cn]={Type:Uint32Array,size:12,setter:fr,cols:3};v[fn]={Type:Uint32Array,size:16,setter:ur,cols:4};v[Qe]={Type:Uint32Array,size:4,setter:ln,arraySetter:mn};v[en]={Type:Uint32Array,size:8,setter:dn,cols:2};v[nn]={Type:Uint32Array,size:12,setter:pn,cols:3};v[tn]={Type:Uint32Array,size:16,setter:vn,cols:4};v[rn]={Type:Float32Array,size:32,setter:lr,rows:2,cols:2};v[on]={Type:Float32Array,size:48,setter:mr,rows:3,cols:3};v[sn]={Type:Float32Array,size:64,setter:dr,rows:4,cols:4};v[zt]={Type:Float32Array,size:32,setter:pr,rows:2,cols:3};v[Ot]={Type:Float32Array,size:32,setter:Ar,rows:2,cols:4};v[kt]={Type:Float32Array,size:48,setter:vr,rows:3,cols:2};v[$t]={Type:Float32Array,size:48,setter:_r,rows:3,cols:4};v[Vt]={Type:Float32Array,size:64,setter:yr,rows:4,cols:2};v[Gt]={Type:Float32Array,size:64,setter:Tr,rows:4,cols:3};v[Lt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ee};v[Ut]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ne};v[Dt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Se};v[gt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ee};v[Ht]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:te};v[Wt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:te};v[jt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ne};v[Yt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ee};v[qt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Se};v[Kt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ne};v[Xt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:te};v[Zt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ee};v[Jt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:Se};v[Qt]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:ne};v[er]={Type:null,size:0,setter:F,arraySetter:C,bindPoint:te};function re(e,n){return function(t){if(t.value)switch(e.disableVertexAttribArray(n),t.value.length){case 4:e.vertexAttrib4fv(n,t.value);break;case 3:e.vertexAttrib3fv(n,t.value);break;case 2:e.vertexAttrib2fv(n,t.value);break;case 1:e.vertexAttrib1fv(n,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(J,t.buffer),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,t.numComponents||t.size,t.type||Q,t.normalize||!1,t.stride||0,t.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(n,t.divisor||0)}}function L(e,n){return function(t){if(t.value)if(e.disableVertexAttribArray(n),t.value.length===4)e.vertexAttrib4iv(n,t.value);else throw new Error("The length of an integer constant value must be 4!");else e.bindBuffer(J,t.buffer),e.enableVertexAttribArray(n),e.vertexAttribIPointer(n,t.numComponents||t.size,t.type||he,t.stride||0,t.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(n,t.divisor||0)}}function oe(e,n){return function(t){if(t.value)if(e.disableVertexAttribArray(n),t.value.length===4)e.vertexAttrib4uiv(n,t.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else e.bindBuffer(J,t.buffer),e.enableVertexAttribArray(n),e.vertexAttribIPointer(n,t.numComponents||t.size,t.type||xe,t.stride||0,t.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(n,t.divisor||0)}}function be(e,n,t){const o=t.size,r=t.count;return function(i){e.bindBuffer(J,i.buffer);const a=i.size||i.numComponents||o,s=a/r,c=i.type||Q,l=v[c].size*a,u=i.normalize||!1,d=i.offset||0,m=l/r;for(let p=0;p<r;++p)e.enableVertexAttribArray(n+p),e.vertexAttribPointer(n+p,s,c,u,l,d+m*p),e.vertexAttribDivisor&&e.vertexAttribDivisor(n+p,i.divisor||0)}}const w={};w[Q]={size:4,setter:re};w[Ye]={size:8,setter:re};w[qe]={size:12,setter:re};w[Ke]={size:16,setter:re};w[he]={size:4,setter:L};w[Xe]={size:8,setter:L};w[Ze]={size:12,setter:L};w[Je]={size:16,setter:L};w[xe]={size:4,setter:oe};w[an]={size:8,setter:oe};w[cn]={size:12,setter:oe};w[fn]={size:16,setter:oe};w[Qe]={size:4,setter:L};w[en]={size:8,setter:L};w[nn]={size:12,setter:L};w[tn]={size:16,setter:L};w[rn]={size:4,setter:be,count:2};w[on]={size:9,setter:be,count:3};w[sn]={size:16,setter:be,count:4};const Er=/ERROR:\s*\d+:(\d+)/gi;function hr(e,n="",t=0){const o=[...n.matchAll(Er)],r=new Map(o.map((i,a)=>{const s=parseInt(i[1]),c=o[a+1],f=c?c.index:n.length,l=n.substring(i.index,f);return[s-1,l]}));return e.split(`
`).map((i,a)=>{const s=r.get(a);return`${a+1+t}: ${i}${s?`

^^^ ${s}`:""}`}).join(`
`)}const Re=/^[ \t]*\n/;function An(e){let n=0;return Re.test(e)&&(n=1,e=e.replace(Re,"")),{lineOffset:n,shaderSource:e}}function xr(e,n){return e.errorCallback(n),e.callback&&setTimeout(()=>{e.callback(`${n}
${e.errors.join(`
`)}`)}),null}function Sr(e,n,t,o){if(o=o||Ee,!e.getShaderParameter(t,xt)){const i=e.getShaderInfoLog(t),{lineOffset:a,shaderSource:s}=An(e.getShaderSource(t)),c=`${hr(s,i,a)}
Error compiling ${ct(e,n)}: ${i}`;return o(c),c}return""}function we(e,n,t){let o,r,i;if(typeof n=="function"&&(t=n,n=void 0),typeof e=="function")t=e,e=void 0;else if(e&&!Array.isArray(e)){const f=e;t=f.errorCallback,e=f.attribLocations,o=f.transformFeedbackVaryings,r=f.transformFeedbackMode,i=f.callback}const a=t||Ee,s=[],c={errorCallback(f,...l){s.push(f),a(f,...l)},transformFeedbackVaryings:o,transformFeedbackMode:r,callback:i,errors:s};{let f={};Array.isArray(e)?e.forEach(function(l,u){f[l]=n?n[u]:u}):f=e||{},c.attribLocations=f}return c}const br=["VERTEX_SHADER","FRAGMENT_SHADER"];function wr(e,n){if(n.indexOf("frag")>=0)return bt;if(n.indexOf("vert")>=0)return wt}function Ir(e,n,t){const o=e.getAttachedShaders(n);for(const r of o)t.has(r)&&e.deleteShader(r);e.deleteProgram(n)}const Fr=(e=0)=>new Promise(n=>setTimeout(n,e));function Cr(e,n,t){const o=e.createProgram(),{attribLocations:r,transformFeedbackVaryings:i,transformFeedbackMode:a}=we(t);for(let s=0;s<n.length;++s){let c=n[s];if(typeof c=="string"){const f=We(c),l=f?f.text:c;let u=e[br[s]];f&&f.type&&(u=wr(e,f.type)||u),c=e.createShader(u),e.shaderSource(c,An(l).shaderSource),e.compileShader(c),e.attachShader(o,c)}}Object.entries(r).forEach(([s,c])=>e.bindAttribLocation(o,c,s));{let s=i;s&&(s.attribs&&(s=s.attribs),Array.isArray(s)||(s=Object.keys(s)),e.transformFeedbackVaryings(o,s,a||It))}return e.linkProgram(o),o}function Mr(e,n,t,o,r){const i=we(t,o,r),a=new Set(n),s=Cr(e,n,i);function c(f,l){const u=Rr(f,l,i.errorCallback);return u&&Ir(f,l,a),u}if(i.callback){Nr(e,s).then(()=>{const f=c(e,s);i.callback(f,f?void 0:s)});return}return c(e,s)?void 0:s}async function Nr(e,n){const t=e.getExtension("KHR_parallel_shader_compile"),o=t?(i,a)=>i.getProgramParameter(a,t.COMPLETION_STATUS_KHR):()=>!0;let r=0;do await Fr(r),r=1e3/60;while(!o(e,n))}function Rr(e,n,t){if(t=t||Ee,!e.getProgramParameter(n,St)){const r=e.getProgramInfoLog(n);t(`Error in program linking: ${r}`);const a=e.getAttachedShaders(n).map(s=>Sr(e,e.getShaderParameter(s,e.SHADER_TYPE),s,t));return`${r}
${a.filter(s=>s).join(`
`)}`}}function Pr(e,n,t,o,r){return Mr(e,n,t,o,r)}function yn(e){const n=e.name;return n.startsWith("gl_")||n.startsWith("webgl_")}const Br=/(\.|\[|]|\w+)/g,Lr=e=>e>="0"&&e<="9";function Ur(e,n,t,o){const r=e.split(Br).filter(s=>s!=="");let i=0,a="";for(;;){const s=r[i++];a+=s;const c=Lr(s[0]),f=c?parseInt(s):s;if(c&&(a+=r[i++]),i===r.length){t[f]=n;break}else{const u=r[i++],d=u==="[",m=t[f]||(d?[]:{});t[f]=m,t=m,o[a]=o[a]||function(p){return function(A){_n(p,A)}}(m),a+=u}}}function Dr(e,n){let t=0;function o(s,c,f){const l=c.name.endsWith("[0]"),u=c.type,d=v[u];if(!d)throw new Error(`unknown type: 0x${u.toString(16)}`);let m;if(d.bindPoint){const p=t;t+=c.size,l?m=d.arraySetter(e,u,p,f,c.size):m=d.setter(e,u,p,f,c.size)}else d.arraySetter&&l?m=d.arraySetter(e,f):m=d.setter(e,f);return m.location=f,m}const r={},i={},a=e.getProgramParameter(n,je);for(let s=0;s<a;++s){const c=e.getActiveUniform(n,s);if(yn(c))continue;let f=c.name;f.endsWith("[0]")&&(f=f.substr(0,f.length-3));const l=e.getUniformLocation(n,c.name);if(l){const u=o(n,c,l);r[f]=u,Ur(f,u,i,r)}}return r}function gr(e,n){const t={},o=e.getProgramParameter(n,Ct);for(let r=0;r<o;++r){const i=e.getTransformFeedbackVarying(n,r);t[i.name]={index:r,type:i.type,size:i.size}}return t}function zr(e,n){const t=e.getProgramParameter(n,je),o=[],r=[];for(let s=0;s<t;++s){r.push(s),o.push({});const c=e.getActiveUniform(n,s);o[s].name=c.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(s){const c=s[0],f=s[1];e.getActiveUniforms(n,r,e[c]).forEach(function(l,u){o[u][f]=l})});const i={},a=e.getProgramParameter(n,Mt);for(let s=0;s<a;++s){const c=e.getActiveUniformBlockName(n,s),f={index:e.getUniformBlockIndex(n,c),usedByVertexShader:e.getActiveUniformBlockParameter(n,s,Nt),usedByFragmentShader:e.getActiveUniformBlockParameter(n,s,Rt),size:e.getActiveUniformBlockParameter(n,s,Pt),uniformIndices:e.getActiveUniformBlockParameter(n,s,Bt)};f.used=f.usedByVertexShader||f.usedByFragmentShader,i[c]=f}return{blockSpecs:i,uniformData:o}}function _n(e,n){for(const t in n){const o=e[t];typeof o=="function"?o(n[t]):_n(e[t],n[t])}}function z(e,...n){const t=e.uniformSetters||e,o=n.length;for(let r=0;r<o;++r){const i=n[r];if(Array.isArray(i)){const a=i.length;for(let s=0;s<a;++s)z(t,i[s])}else for(const a in i){const s=t[a];s&&s(i[a])}}}function Or(e,n){const t={},o=e.getProgramParameter(n,Ft);for(let r=0;r<o;++r){const i=e.getActiveAttrib(n,r);if(yn(i))continue;const a=e.getAttribLocation(n,i.name),s=w[i.type],c=s.setter(e,a,s);c.location=a,t[i.name]=c}return t}function kr(e,n){for(const t in n){const o=e[t];o&&o(n[t])}}function G(e,n,t){t.vertexArrayObject?e.bindVertexArray(t.vertexArrayObject):(kr(n.attribSetters||n,t.attribs),t.indices&&e.bindBuffer(ht,t.indices))}function Pe(e,n){const t=Dr(e,n),o=Or(e,n),r={program:n,uniformSetters:t,attribSetters:o};return Te(e)&&(r.uniformBlockSpec=zr(e,n),r.transformFeedbackInfo=gr(e,n)),r}const $r=/\s|{|}|;/;function H(e,n,t,o,r){const i=we(t,o,r),a=[];if(n=n.map(function(f){if(!$r.test(f)){const l=We(f);if(l)f=l.text;else{const u=`no element with id: ${f}`;i.errorCallback(u),a.push(u)}}return f}),a.length)return xr(i,"");const s=i.callback;s&&(i.callback=(f,l)=>{s(f,f?void 0:Pe(e,l))});const c=Pr(e,n,i);return c?Pe(e,c):null}const Vr=4,Be=5123;function W(e,n,t,o,r,i){t=t===void 0?Vr:t;const a=n.indices,s=n.elementType,c=o===void 0?n.numElements:o;r=r===void 0?0:r,s||a?i!==void 0?e.drawElementsInstanced(t,c,s===void 0?Be:n.elementType,r,i):e.drawElements(t,c,s===void 0?Be:n.elementType,r):i!==void 0?e.drawArraysInstanced(t,r,c,i):e.drawArrays(t,r,c)}function j(e,n){n=n||1,n=Math.max(0,n);const t=e.clientWidth*n|0,o=e.clientHeight*n|0;return e.width!==t||e.height!==o?(e.width=t,e.height=o,!0):!1}function Y(e){e.width=window.innerWidth,e.height=window.innerHeight;const n=e.getContext("webgl2");if(n)console.log("WebGL initialized successfully");else throw alert("WebGL not supported"),Error("WebGL not supported");return n}let Gr=class{constructor(){g(this,"div");g(this,"canvas")}load(n){this.div=n,this.canvas=document.createElement("canvas"),n.innerHTML="",n.append(this.canvas);const t=Y(this.canvas);var o=H(t,[In,Fn]);const r={a_position:{numComponents:2,data:new Float32Array([-1,-1,1,-1,1,1,-1,1])},a_colour:{numComponents:3,data:new Float32Array([1,0,0,0,1,0,0,0,1,1,1,1])},indices:{numComponents:3,data:new Uint16Array([0,1,3,1,2,3])}},i=V(t,r);function a(s){j(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.DEPTH_TEST);const c={u_time:s};t.useProgram(o.program),G(t,o,i),z(o,c),W(t,i),requestAnimationFrame(a)}requestAnimationFrame(a)}unload(){var n;(n=this.canvas)==null||n.remove()}};const Hr=new Gr;var Wr=`#version 300 es

in vec4 a_position;
in vec4 a_colour;

uniform mat4 u_matrix;

out vec4 v_colour;

void main() {
  gl_Position = u_matrix * a_position;
  v_colour = a_colour;
}`,jr=`#version 300 es

precision highp float;

in vec4 v_colour;

out vec4 outColour;

void main() {
  outColour = v_colour;
}`,ce=1e-6,Z=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,n=arguments.length;n--;)e+=arguments[n]*arguments[n];return Math.sqrt(e)});function b(){var e=new Z(16);return Z!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Yr(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Tn(e,n){if(e===n){var t=n[1],o=n[2],r=n[3],i=n[6],a=n[7],s=n[11];e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=t,e[6]=n[9],e[7]=n[13],e[8]=o,e[9]=i,e[11]=n[14],e[12]=r,e[13]=a,e[14]=s}else e[0]=n[0],e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=n[1],e[5]=n[5],e[6]=n[9],e[7]=n[13],e[8]=n[2],e[9]=n[6],e[10]=n[10],e[11]=n[14],e[12]=n[3],e[13]=n[7],e[14]=n[11],e[15]=n[15];return e}function En(e,n){var t=n[0],o=n[1],r=n[2],i=n[3],a=n[4],s=n[5],c=n[6],f=n[7],l=n[8],u=n[9],d=n[10],m=n[11],p=n[12],A=n[13],x=n[14],h=n[15],S=t*s-o*a,y=t*c-r*a,_=t*f-i*a,T=o*c-r*s,E=o*f-i*s,M=r*f-i*c,N=l*A-u*p,R=l*x-d*p,P=l*h-m*p,U=u*x-d*A,O=u*h-m*A,k=d*h-m*x,I=S*k-y*O+_*U+T*P-E*R+M*N;return I?(I=1/I,e[0]=(s*k-c*O+f*U)*I,e[1]=(r*O-o*k-i*U)*I,e[2]=(A*M-x*E+h*T)*I,e[3]=(d*E-u*M-m*T)*I,e[4]=(c*P-a*k-f*R)*I,e[5]=(t*k-r*P+i*R)*I,e[6]=(x*_-p*M-h*y)*I,e[7]=(l*M-d*_+m*y)*I,e[8]=(a*O-s*P+f*N)*I,e[9]=(o*P-t*O-i*N)*I,e[10]=(p*E-A*_+h*S)*I,e[11]=(u*_-l*E-m*S)*I,e[12]=(s*R-a*U-c*N)*I,e[13]=(t*U-o*R+r*N)*I,e[14]=(A*y-p*T-x*S)*I,e[15]=(l*T-u*y+d*S)*I,e):null}function B(e,n,t){var o=n[0],r=n[1],i=n[2],a=n[3],s=n[4],c=n[5],f=n[6],l=n[7],u=n[8],d=n[9],m=n[10],p=n[11],A=n[12],x=n[13],h=n[14],S=n[15],y=t[0],_=t[1],T=t[2],E=t[3];return e[0]=y*o+_*s+T*u+E*A,e[1]=y*r+_*c+T*d+E*x,e[2]=y*i+_*f+T*m+E*h,e[3]=y*a+_*l+T*p+E*S,y=t[4],_=t[5],T=t[6],E=t[7],e[4]=y*o+_*s+T*u+E*A,e[5]=y*r+_*c+T*d+E*x,e[6]=y*i+_*f+T*m+E*h,e[7]=y*a+_*l+T*p+E*S,y=t[8],_=t[9],T=t[10],E=t[11],e[8]=y*o+_*s+T*u+E*A,e[9]=y*r+_*c+T*d+E*x,e[10]=y*i+_*f+T*m+E*h,e[11]=y*a+_*l+T*p+E*S,y=t[12],_=t[13],T=t[14],E=t[15],e[12]=y*o+_*s+T*u+E*A,e[13]=y*r+_*c+T*d+E*x,e[14]=y*i+_*f+T*m+E*h,e[15]=y*a+_*l+T*p+E*S,e}function qr(e,n,t){var o=t[0],r=t[1],i=t[2],a,s,c,f,l,u,d,m,p,A,x,h;return n===e?(e[12]=n[0]*o+n[4]*r+n[8]*i+n[12],e[13]=n[1]*o+n[5]*r+n[9]*i+n[13],e[14]=n[2]*o+n[6]*r+n[10]*i+n[14],e[15]=n[3]*o+n[7]*r+n[11]*i+n[15]):(a=n[0],s=n[1],c=n[2],f=n[3],l=n[4],u=n[5],d=n[6],m=n[7],p=n[8],A=n[9],x=n[10],h=n[11],e[0]=a,e[1]=s,e[2]=c,e[3]=f,e[4]=l,e[5]=u,e[6]=d,e[7]=m,e[8]=p,e[9]=A,e[10]=x,e[11]=h,e[12]=a*o+l*r+p*i+n[12],e[13]=s*o+u*r+A*i+n[13],e[14]=c*o+d*r+x*i+n[14],e[15]=f*o+m*r+h*i+n[15]),e}function hn(e,n,t){var o=Math.sin(t),r=Math.cos(t),i=n[0],a=n[1],s=n[2],c=n[3],f=n[4],l=n[5],u=n[6],d=n[7];return n!==e&&(e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=i*r+f*o,e[1]=a*r+l*o,e[2]=s*r+u*o,e[3]=c*r+d*o,e[4]=f*r-i*o,e[5]=l*r-a*o,e[6]=u*r-s*o,e[7]=d*r-c*o,e}function Ie(e,n){var t=Math.sin(n),o=Math.cos(n);return e[0]=o,e[1]=0,e[2]=-t,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=t,e[9]=0,e[10]=o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Kr(e,n,t,o,r){var i=1/Math.tan(n/2),a;return e[0]=i/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(a=1/(o-r),e[10]=(r+o)*a,e[14]=2*r*o*a):(e[10]=-1,e[14]=-2*o),e}var ie=Kr;function se(e,n,t,o){var r,i,a,s,c,f,l,u,d,m,p=n[0],A=n[1],x=n[2],h=o[0],S=o[1],y=o[2],_=t[0],T=t[1],E=t[2];return Math.abs(p-_)<ce&&Math.abs(A-T)<ce&&Math.abs(x-E)<ce?Yr(e):(l=p-_,u=A-T,d=x-E,m=1/Math.hypot(l,u,d),l*=m,u*=m,d*=m,r=S*d-y*u,i=y*l-h*d,a=h*u-S*l,m=Math.hypot(r,i,a),m?(m=1/m,r*=m,i*=m,a*=m):(r=0,i=0,a=0),s=u*a-d*i,c=d*r-l*a,f=l*i-u*r,m=Math.hypot(s,c,f),m?(m=1/m,s*=m,c*=m,f*=m):(s=0,c=0,f=0),e[0]=r,e[1]=s,e[2]=l,e[3]=0,e[4]=i,e[5]=c,e[6]=u,e[7]=0,e[8]=a,e[9]=f,e[10]=d,e[11]=0,e[12]=-(r*p+i*A+a*x),e[13]=-(s*p+c*A+f*x),e[14]=-(l*p+u*A+d*x),e[15]=1,e)}function ue(){var e=new Z(2);return Z!=Float32Array&&(e[0]=0,e[1]=0),e}function Xr(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e}function Zr(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e}function Jr(e,n){var t=n[0],o=n[1],r=t*t+o*o;return r>0&&(r=1/Math.sqrt(r)),e[0]=n[0]*r,e[1]=n[1]*r,e}function Qr(e,n,t,o){var r=n[0]-t[0],i=n[1]-t[1],a=Math.sin(o),s=Math.cos(o);return e[0]=r*s-i*a+t[0],e[1]=r*a+i*s+t[1],e}(function(){var e=ue();return function(n,t,o,r,i,a){var s,c;for(t||(t=2),o||(o=0),r?c=Math.min(r*t+o,n.length):c=n.length,s=o;s<c;s+=t)e[0]=n[s],e[1]=n[s+1],i(e,e,a),n[s]=e[0],n[s+1]=e[1];return n}})();const Fe={a_position:{numComponents:3,data:new Float32Array([-1,-1,1,1,-1,1,-1,1,1,1,-1,1,1,1,1,-1,1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,-1,-1,-1,-1,-1,1,-1,1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,1,1,1,1,1,-1,1,-1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,-1,-1,1,1,-1,-1,1,-1,1,-1,-1,1])},a_normal:{numComponents:3,data:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0])}};let eo=class{load(n){const t=document.createElement("canvas");n.innerHTML="",n.append(t);const o=Y(t);var r=H(o,[Wr,jr]);const i=V(o,{...Fe,a_colour:{numComponents:3,data:new Float32Array([0,0,0,0,0,1,0,1,0,0,1,1,1,0,0,1,0,1,1,1,0,1,1,1])}});function a(s){j(o.canvas),o.viewport(0,0,o.canvas.width,o.canvas.height),o.clear(o.COLOR_BUFFER_BIT),o.enable(o.DEPTH_TEST),o.enable(o.CULL_FACE);const c=Math.PI/4,f=t.clientWidth/t.clientHeight,l=.1,u=100,d=b();ie(d,c,f,l,u);const m=s/1e3,p=new Float32Array([6,0,6]),A=new Float32Array([0,0,0]),x=new Float32Array([0,1,0]),h=b();se(h,p,A,x);const S=b();Ie(S,-m),hn(S,S,-m);const y=b();B(h,h,S),B(y,d,h);const _={u_matrix:y,u_time:s};o.useProgram(r.program),G(o,r,i),z(r,_),W(o,i),requestAnimationFrame(a)}requestAnimationFrame(a)}unload(){throw new Error("Method not implemented.")}};const no=new eo;var to=`#version 300 es

in vec4 a_position;
in vec4 a_colour;

uniform mat4 u_matrix;

out vec4 v_colour;

void main() {
  gl_Position = u_matrix * a_position;
  v_colour = vec4(0, 0, 0, 1);
}`,ro=`#version 300 es

precision highp float;

in vec4 v_colour;

out vec4 outColour;

void main() {
  outColour = v_colour;
}`;function oo(e,n,t,o){const r=[],i=[],a=(s,c)=>s+(n+1)*c;for(let s=0;s<e+1;++s)for(let c=0;c<n+1;++c)r.push(c/n*o-o/2,0,s/e*t-t/2),c!==n&&s!==e&&i.push(a(c,s),a(c+1,s),a(c+1,s),a(c,s+1),a(c,s+1),a(c,s),a(c+1,s),a(c+1,s+1),a(c+1,s+1),a(c,s+1),a(c,s+1),a(c+1,s));return{a_position:{numComponents:3,data:new Float32Array(r)},indices:{numComponents:2,data:new Uint16Array(i)}}}function io(e){const n=document.createElement("canvas");e.innerHTML="",e.append(n);const t=Y(n);var o=H(t,[to,ro]);const r=64,i=10,a=oo(r,r,i,i),s=V(t,a),c=Math.PI/4,f=n.clientWidth/n.clientHeight,l=.1,u=100,d=b();ie(d,c,f,l,u),t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE);function m(p){j(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT);const A=p/1e3,x=new Float32Array([0,10,10]),h=new Float32Array([0,0,0]),S=new Float32Array([0,1,0]),y=b();se(y,x,h,S);const _=b();B(_,d,y);const T=b();Ie(T,-A/4);const E=b();B(E,_,T);const M={u_matrix:E,u_time:p};t.useProgram(o.program),G(t,o,s),z(o,M),W(t,s,t.LINES),requestAnimationFrame(m)}requestAnimationFrame(m)}let so=class{load(n){io(n)}unload(){}};const ao=new so;var co=`#version 300 es

in vec4 a_position;
in vec3 a_normal;

uniform mat4 u_worldViewProjection;
uniform mat4 u_worldInverseTranspose;

out vec3 v_normal;

void main() {
  gl_Position = u_worldViewProjection * a_position;
  
  v_normal = mat3(u_worldInverseTranspose) * a_normal;
}`,fo=`#version 300 es

precision highp float;

uniform vec3 u_reverseLightDirection;
uniform vec4 u_colour;

out vec4 outColour;

in vec3 v_normal;

void main() {
  vec3 normal = normalize(v_normal);
  float light = dot(normal, u_reverseLightDirection);
  outColour = u_colour;
  outColour.rgb *= light;
}`;function uo(e){const n=document.createElement("canvas");e.innerHTML="",e.append(n);const t=Y(n);var o=H(t,[co,fo]);const r=V(t,Fe),i=Math.PI/4,a=n.clientWidth/n.clientHeight,s=.1,c=100,f=b();ie(f,i,a,s,c),t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE),t.cullFace(t.CCW);function l(u){j(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT);const d=u/1e3,m=new Float32Array([0,10,10]),p=new Float32Array([0,0,0]),A=new Float32Array([0,1,0]),x=b();se(x,m,p,A);const h=b();B(h,f,x);const S=b();Ie(S,-d/2),hn(S,S,-d/1.5);const y=b();B(y,h,S);const _=b();En(_,S);const T=b();Tn(T,_);const E={u_worldViewProjection:y,u_worldInverseTranspose:T,u_reverseLightDirection:[1,1,1],u_time:u,u_colour:[1,0,0,1]};t.useProgram(o.program),G(t,o,r),z(o,E),W(t,r,t.TRIANGLES),requestAnimationFrame(l)}requestAnimationFrame(l)}let lo=class{load(n){uo(n)}unload(){}};const mo=new lo;var po=`#version 300 es

in vec4 a_position;
in vec3 a_normal;

uniform mat4 u_worldViewProjection;
uniform mat4 u_worldInverseTranspose;

out vec3 v_normal;

void main() {
  gl_Position = u_worldViewProjection * a_position;
  
  v_normal = mat3(u_worldInverseTranspose) * a_normal;
}`,vo=`#version 300 es

precision highp float;

uniform vec3 u_reverseLightDirection;
uniform vec4 u_colour;

out vec4 outColour;

in vec3 v_normal;

void main() {
  vec3 normal = normalize(v_normal);
  float light = dot(normal, u_reverseLightDirection);
  outColour = u_colour;
  outColour.rgb *= light;
}`;class Ao{constructor(){g(this,"_input",{left:0,right:0});g(this,"direction",[1,0]);g(this,"position",[0,0])}input(n,t){this._input.left=n,this._input.right=t}step(n){const o=.01*(1e3*n),r=(this._input.left-this._input.right)*.01;Qr(this.direction,this.direction,[0,0],r),Jr(this.direction,this.direction);const i=ue();Zr(i,this.direction,o);const a=ue();(this._input.left!==0||this._input.right!==0)&&(Xr(a,this.position,i),this.position=a)}}function yo(e){const n=document.createElement("canvas");e.innerHTML="",e.append(n);const t=Y(n);var o=H(t,[po,vo]);const r=V(t,Fe),i=Math.PI/4,a=n.clientWidth/n.clientHeight,s=.1,c=1e3,f=b();ie(f,i,a,s,c),t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE),t.cullFace(t.CCW);const l=new Ao,u={left:0,right:0};window.addEventListener("keydown",A=>{A.key==="q"&&(u.left=1),A.key==="w"&&(u.right=1),A.key==="a"&&(u.left=-1),A.key==="s"&&(u.right=-1)}),window.addEventListener("keyup",A=>{A.key==="q"&&(u.left=0),A.key==="w"&&(u.right=0),A.key==="a"&&(u.left=0),A.key==="s"&&(u.right=0)});let d,m;function p(A){j(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT),d=A/1e3;let h=m===void 0?0:d-m;const S=new Float32Array([0,64,64]),y=new Float32Array([0,0,0]),_=new Float32Array([0,1,0]),T=b();se(T,S,y,_);const E=b();B(E,f,T);const M=b();qr(M,M,[l.position[0],0,l.position[1]]);const N=b();B(N,E,M);const R=b();En(R,M);const P=b();Tn(P,R);const U={u_worldViewProjection:N,u_worldInverseTranspose:P,u_reverseLightDirection:[1,1,1],u_time:A,u_colour:[1,0,0,1]};t.useProgram(o.program),G(t,o,r),z(o,U),W(t,r,t.TRIANGLES),l.input(u.left,u.right),l.step(h),requestAnimationFrame(p),m=d}requestAnimationFrame(p)}let _o=class{load(n){yo(n)}unload(){}};const To=new _o,Eo=`<div id="container">
  <canvas></canvas>
  <div id="overlay">
    <div>Time: <span id="time"></span></div>
    <button id="button">Button</button>
  </div>
</div>`;class ho{load(n){n.innerHTML=Eo;const t=document.querySelector("#time");if(!t)throw Error;const o=document.createTextNode("");t.appendChild(o);const r=document.querySelector("#button");r.onclick=i=>{console.log(i)},requestAnimationFrame(function i(a){o.nodeValue=(a/1e3).toFixed(2),requestAnimationFrame(i)})}unload(){}}const xo=new ho,q=[{name:"main-menu",app:wn},{name:"example-1 - fullscreen quad",app:Hr},{name:"example-2 - spinning cube",app:no},{name:"example-3 - grid",app:ao},{name:"example-4 - directional lighting",app:mo},{name:"example-5 - input",app:To},{name:"Example 6 - UI Overlay",app:xo}],So=document.getElementById("app");let K=localStorage.getItem("currentApp");K||(K=q[0].name,localStorage.setItem("currentApp",K));le.to(K);window.onpopstate=e=>{var o,r;console.log("ev.state",e.state),console.log(e);const n=(o=e.state)==null?void 0:o.appName,t=(r=q.find(i=>i.name===n))==null?void 0:r.app;localStorage.setItem("currentApp",n),t==null||t.load(So)};window.onkeyup=e=>{e.key==="Escape"&&le.to(q[0].name)};
